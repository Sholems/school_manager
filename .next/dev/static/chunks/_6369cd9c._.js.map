{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/school_manager/components/ui/button.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n    variant?: 'primary' | 'secondary' | 'danger' | 'ghost' | 'outline';\r\n    size?: 'sm' | 'md';\r\n}\r\n\r\nexport const Button: React.FC<ButtonProps> = ({ className, variant = 'primary', size = 'md', ...props }) => {\r\n    const base = \"inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none\";\r\n    const variants = {\r\n        primary: \"bg-brand-600 text-white hover:bg-brand-700 focus:ring-brand-500 shadow-sm\",\r\n        secondary: \"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-brand-500\",\r\n        danger: \"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm\",\r\n        ghost: \"bg-transparent text-gray-600 hover:bg-gray-100 focus:ring-gray-500\",\r\n        outline: \"bg-transparent text-brand-600 border border-brand-600 hover:bg-brand-50 focus:ring-brand-500\"\r\n    };\r\n    const sizes = {\r\n        sm: \"h-8 px-3 text-sm\",\r\n        md: \"h-10 px-4 py-2\"\r\n    };\r\n    return <button className={`${base} ${variants[variant]} ${sizes[size]} ${className || ''}`} {...props} />;\r\n};\r\n"],"names":[],"mappings":";;;;;;AAOO,MAAM,SAAgC,CAAC,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,OAAO,IAAI,EAAE,GAAG,OAAO;IACnG,MAAM,OAAO;IACb,MAAM,WAAW;QACb,SAAS;QACT,WAAW;QACX,QAAQ;QACR,OAAO;QACP,SAAS;IACb;IACA,MAAM,QAAQ;QACV,IAAI;QACJ,IAAI;IACR;IACA,qBAAO,6LAAC;QAAO,WAAW,GAAG,KAAK,CAAC,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,aAAa,IAAI;QAAG,GAAG,KAAK;;;;;;AACzG;KAda"}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///D:/school_manager/components/ui/select.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface SelectProps extends React.SelectHTMLAttributes<HTMLSelectElement> {\r\n    label?: string;\r\n}\r\n\r\nexport const Select: React.FC<SelectProps> = ({ label, className, children, ...props }) => (\r\n    <div className=\"flex flex-col gap-1.5\">\r\n        {label && <label className=\"text-sm font-medium text-gray-700\">{label}</label>}\r\n        <select className={`flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500 disabled:cursor-not-allowed disabled:opacity-50 ${className || ''}`} {...props}>\r\n            {children}\r\n        </select>\r\n    </div>\r\n);\r\n"],"names":[],"mappings":";;;;;;AAMO,MAAM,SAAgC,CAAC,EAAE,KAAK,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,iBAClF,6LAAC;QAAI,WAAU;;YACV,uBAAS,6LAAC;gBAAM,WAAU;0BAAqC;;;;;;0BAChE,6LAAC;gBAAO,WAAW,CAAC,mLAAmL,EAAE,aAAa,IAAI;gBAAG,GAAG,KAAK;0BAChO;;;;;;;;;;;;KAJA"}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///D:/school_manager/components/features/BroadsheetView.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Printer, LayoutList } from 'lucide-react';\r\nimport * as Types from '@/lib/types';\r\nimport * as Utils from '@/lib/utils';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Select } from '@/components/ui/select';\r\n\r\ninterface BroadsheetViewProps {\r\n    students: Types.Student[];\r\n    classes: Types.Class[];\r\n    scores: Types.Score[];\r\n    settings: Types.Settings;\r\n}\r\n\r\nexport const BroadsheetView: React.FC<BroadsheetViewProps> = ({ students, classes, scores, settings }) => {\r\n    const [selectedClass, setSelectedClass] = useState(classes[0]?.id || '');\r\n    const currentClass = classes.find(c => c.id === selectedClass);\r\n    const activeStudents = students.filter(s => s.class_id === selectedClass);\r\n    const subjects = Utils.getSubjectsForClass(currentClass);\r\n\r\n    const sheetData = activeStudents.map(s => {\r\n        const studentScore = scores.find(sc => sc.student_id === s.id && sc.session === settings.current_session && sc.term === settings.current_term);\r\n        const subjectScores: Record<string, number> = {};\r\n        let total = 0;\r\n        subjects.forEach(subj => {\r\n            const row = studentScore?.rows.find(r => r.subject === subj);\r\n            const val = row ? row.total : 0;\r\n            subjectScores[subj] = val;\r\n            total += val;\r\n        });\r\n        return { ...s, scores: subjectScores, total, average: subjects.length > 0 ? total / subjects.length : 0 };\r\n    }).sort((a, b) => b.average - a.average);\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex justify-between items-center no-print\">\r\n                <div><h1 className=\"text-2xl font-bold text-gray-900\">Master Broadsheet</h1><p className=\"text-gray-500\">Class-wide results analysis</p></div>\r\n                <div className=\"flex gap-4\"><Select value={selectedClass} onChange={e => setSelectedClass(e.target.value)}>{classes.map(c => <option key={c.id} value={c.id}>{c.name}</option>)}</Select><Button onClick={() => window.print()}><Printer className=\"h-4 w-4 mr-2\" /> Print Sheet</Button></div>\r\n            </div>\r\n            <div className=\"overflow-x-auto bg-white border rounded-lg shadow-sm print:shadow-none print:border-none\">\r\n                <div className=\"p-4 border-b bg-gray-50 text-center print:block hidden\">\r\n                    <h2 className=\"text-xl font-bold uppercase\">{settings.school_name}</h2>\r\n                    <p>Broadsheet Report • {currentClass?.name} • {settings.current_session} {settings.current_term}</p>\r\n                </div>\r\n                <table className=\"w-full text-xs text-left border-collapse\">\r\n                    <thead>\r\n                        <tr className=\"bg-gray-100 text-gray-700\">\r\n                            <th className=\"px-2 py-3 border sticky left-0 bg-gray-100 w-48\">Student Name</th>\r\n                            {subjects.map(subj => <th key={subj} className=\"px-2 py-3 border text-center w-16 rotate-45 h-32 align-bottom pb-2\">{subj.substring(0, 15)}</th>)}\r\n                            <th className=\"px-2 py-3 border text-center font-bold bg-gray-200\">Total</th>\r\n                            <th className=\"px-2 py-3 border text-center font-bold bg-gray-200\">Avg</th>\r\n                            <th className=\"px-2 py-3 border text-center font-bold bg-gray-200\">Pos</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {sheetData.map((s, idx) => (\r\n                            <tr key={s.id} className=\"hover:bg-gray-50\">\r\n                                <td className=\"px-2 py-2 border font-medium sticky left-0 bg-white\">{s.names}</td>\r\n                                {subjects.map(subj => <td key={subj} className={`px-2 py-2 border text-center ${s.scores[subj] < 40 ? 'text-red-600 font-bold' : ''}`}>{s.scores[subj] || '-'}</td>)}\r\n                                <td className=\"px-2 py-2 border text-center font-bold bg-gray-50\">{s.total}</td>\r\n                                <td className=\"px-2 py-2 border text-center font-bold bg-gray-50\">{s.average.toFixed(1)}</td>\r\n                                <td className=\"px-2 py-2 border text-center font-bold bg-gray-50\">{Utils.ordinalSuffix(idx + 1)}</td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 379, "column": 0}, "map": {"version":3,"sources":["file:///D:/school_manager/app/%28dashboard%29/broadsheet/page.tsx"],"sourcesContent":["'use client';\r\nimport { useSchoolStore } from '@/lib/store';\r\nimport { BroadsheetView } from '@/components/features/BroadsheetView';\r\n\r\nexport default function BroadsheetPage() {\r\n    const { students, classes, scores, settings } = useSchoolStore();\r\n    return <BroadsheetView students={students} classes={classes} scores={scores} settings={settings} />;\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;AAFA;;;AAIe,SAAS;;IACpB,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,iIAAc;IAC9D,qBAAO,6LAAC,8JAAc;QAAC,UAAU;QAAU,SAAS;QAAS,QAAQ;QAAQ,UAAU;;;;;;AAC3F;GAHwB;;QAC4B,iIAAc;;;KAD1C"}},
    {"offset": {"line": 420, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/printer.js","sources":["file:///D:/school_manager/node_modules/lucide-react/src/icons/printer.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2',\n      key: '143wyd',\n    },\n  ],\n  ['path', { d: 'M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6', key: '1itne7' }],\n  ['rect', { x: '6', y: '14', width: '12', height: '8', rx: '1', key: '1ue0tg' }],\n];\n\n/**\n * @component @name Printer\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNiAxOEg0YTIgMiAwIDAgMS0yLTJ2LTVhMiAyIDAgMCAxIDItMmgxNmEyIDIgMCAwIDEgMiAydjVhMiAyIDAgMCAxLTIgMmgtMiIgLz4KICA8cGF0aCBkPSJNNiA5VjNhMSAxIDAgMCAxIDEtMWgxMGExIDEgMCAwIDEgMSAxdjYiIC8+CiAgPHJlY3QgeD0iNiIgeT0iMTQiIHdpZHRoPSIxMiIgaGVpZ2h0PSI4IiByeD0iMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/printer\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Printer = createLucideIcon('printer', __iconNode);\n\nexport default Printer;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAA,CAAA,CAAA,CAAuB;IAClC;QACE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QACA;YACE,CAAA,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YACH,GAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA;KAET;IACA;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAA2C,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IACxE;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,CAAA,CAAA,CAAG,CAAA,CAAA;YAAK,CAAA,CAAA,CAAG,CAAA,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAO,CAAA,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAA,CAAA,CAAA,GAAQ,CAAA,CAAA,CAAA,CAAA;YAAK,CAAA,CAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA;YAAK,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;CAChF;AAaA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,OAAA,CAAA,CAAA,KAAU,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,iKAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAW,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA"}}]
}