{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/school_manager/components/features/dashboard/DashboardStats.tsx"],"sourcesContent":["import React from 'react';\r\nimport { GraduationCap, Users, TrendingUp, TrendingDown } from 'lucide-react';\r\nimport * as Utils from '@/lib/utils';\r\n\r\ninterface DashboardStatsProps {\r\n    studentsCount: number;\r\n    staffCount: number;\r\n    revenue: number;\r\n    expenses: number;\r\n    targetRevenue: number;\r\n    transactionsCount: number;\r\n}\r\n\r\nexport const DashboardStats: React.FC<DashboardStatsProps> = ({\r\n    studentsCount, staffCount, revenue, expenses, targetRevenue, transactionsCount\r\n}) => {\r\n    return (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n            <div className=\"relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-500 to-blue-600 p-6 text-white shadow-lg transition-transform hover:scale-[1.02]\">\r\n                <div className=\"relative z-10 flex justify-between items-start\">\r\n                    <div>\r\n                        <p className=\"text-blue-100 text-sm font-medium\">Total Students</p>\r\n                        <h3 className=\"text-3xl font-bold mt-2\">{studentsCount}</h3>\r\n                        <p className=\"text-xs text-blue-200 mt-1\">Active Enrollment</p>\r\n                    </div>\r\n                    <div className=\"p-2 bg-white/20 rounded-lg backdrop-blur-sm\"><GraduationCap className=\"h-6 w-6 text-white\" /></div>\r\n                </div>\r\n                <div className=\"absolute -bottom-4 -right-4 h-24 w-24 rounded-full bg-white/10 blur-xl\"></div>\r\n            </div>\r\n            <div className=\"relative overflow-hidden rounded-2xl bg-gradient-to-br from-purple-500 to-purple-600 p-6 text-white shadow-lg transition-transform hover:scale-[1.02]\">\r\n                <div className=\"relative z-10 flex justify-between items-start\">\r\n                    <div>\r\n                        <p className=\"text-purple-100 text-sm font-medium\">Total Staff</p>\r\n                        <h3 className=\"text-3xl font-bold mt-2\">{staffCount}</h3>\r\n                        <p className=\"text-xs text-purple-200 mt-1\">Academic & Non-Academic</p>\r\n                    </div>\r\n                    <div className=\"p-2 bg-white/20 rounded-lg backdrop-blur-sm\"><Users className=\"h-6 w-6 text-white\" /></div>\r\n                </div>\r\n                <div className=\"absolute -bottom-4 -right-4 h-24 w-24 rounded-full bg-white/10 blur-xl\"></div>\r\n            </div>\r\n            <div className=\"relative overflow-hidden rounded-2xl bg-gradient-to-br from-emerald-500 to-emerald-600 p-6 text-white shadow-lg transition-transform hover:scale-[1.02]\">\r\n                <div className=\"relative z-10 flex justify-between items-start\">\r\n                    <div>\r\n                        <p className=\"text-emerald-100 text-sm font-medium\">Revenue (Term)</p>\r\n                        <h3 className=\"text-3xl font-bold mt-2\">{Utils.formatCurrency(revenue)}</h3>\r\n                        <p className=\"text-xs text-emerald-200 mt-1\">Target: {Utils.formatCurrency(targetRevenue)}</p>\r\n                    </div>\r\n                    <div className=\"p-2 bg-white/20 rounded-lg backdrop-blur-sm\"><TrendingUp className=\"h-6 w-6 text-white\" /></div>\r\n                </div>\r\n                <div className=\"absolute -bottom-4 -right-4 h-24 w-24 rounded-full bg-white/10 blur-xl\"></div>\r\n            </div>\r\n            <div className=\"relative overflow-hidden rounded-2xl bg-gradient-to-br from-rose-500 to-rose-600 p-6 text-white shadow-lg transition-transform hover:scale-[1.02]\">\r\n                <div className=\"relative z-10 flex justify-between items-start\">\r\n                    <div>\r\n                        <p className=\"text-rose-100 text-sm font-medium\">Expenses (Term)</p>\r\n                        <h3 className=\"text-3xl font-bold mt-2\">{Utils.formatCurrency(expenses)}</h3>\r\n                        <p className=\"text-xs text-rose-200 mt-1\">{transactionsCount} Transactions</p>\r\n                    </div>\r\n                    <div className=\"p-2 bg-white/20 rounded-lg backdrop-blur-sm\"><TrendingDown className=\"h-6 w-6 text-white\" /></div>\r\n                </div>\r\n                <div className=\"absolute -bottom-4 -right-4 h-24 w-24 rounded-full bg-white/10 blur-xl\"></div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AAAA;AAAA;AAAA;AACA;;;;AAWO,MAAM,iBAAgD,CAAC,EAC1D,aAAa,EAAE,UAAU,EAAE,OAAO,EAAE,QAAQ,EAAE,aAAa,EAAE,iBAAiB,EACjF;IACG,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;;kDACG,6LAAC;wCAAE,WAAU;kDAAoC;;;;;;kDACjD,6LAAC;wCAAG,WAAU;kDAA2B;;;;;;kDACzC,6LAAC;wCAAE,WAAU;kDAA6B;;;;;;;;;;;;0CAE9C,6LAAC;gCAAI,WAAU;0CAA8C,cAAA,6LAAC,4OAAa;oCAAC,WAAU;;;;;;;;;;;;;;;;;kCAE1F,6LAAC;wBAAI,WAAU;;;;;;;;;;;;0BAEnB,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;;kDACG,6LAAC;wCAAE,WAAU;kDAAsC;;;;;;kDACnD,6LAAC;wCAAG,WAAU;kDAA2B;;;;;;kDACzC,6LAAC;wCAAE,WAAU;kDAA+B;;;;;;;;;;;;0CAEhD,6LAAC;gCAAI,WAAU;0CAA8C,cAAA,6LAAC,gNAAK;oCAAC,WAAU;;;;;;;;;;;;;;;;;kCAElF,6LAAC;wBAAI,WAAU;;;;;;;;;;;;0BAEnB,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;;kDACG,6LAAC;wCAAE,WAAU;kDAAuC;;;;;;kDACpD,6LAAC;wCAAG,WAAU;kDAA2B,iIAAoB,CAAC;;;;;;kDAC9D,6LAAC;wCAAE,WAAU;;4CAAgC;4CAAS,iIAAoB,CAAC;;;;;;;;;;;;;0CAE/E,6LAAC;gCAAI,WAAU;0CAA8C,cAAA,6LAAC,mOAAU;oCAAC,WAAU;;;;;;;;;;;;;;;;;kCAEvF,6LAAC;wBAAI,WAAU;;;;;;;;;;;;0BAEnB,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;;kDACG,6LAAC;wCAAE,WAAU;kDAAoC;;;;;;kDACjD,6LAAC;wCAAG,WAAU;kDAA2B,iIAAoB,CAAC;;;;;;kDAC9D,6LAAC;wCAAE,WAAU;;4CAA8B;4CAAkB;;;;;;;;;;;;;0CAEjE,6LAAC;gCAAI,WAAU;0CAA8C,cAAA,6LAAC,yOAAY;oCAAC,WAAU;;;;;;;;;;;;;;;;;kCAEzF,6LAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;;AAI/B;KAnDa"}},
    {"offset": {"line": 328, "column": 0}, "map": {"version":3,"sources":["file:///D:/school_manager/components/ui/card.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface CardProps {\r\n    children?: React.ReactNode;\r\n    title?: string;\r\n    className?: string;\r\n    action?: React.ReactNode;\r\n}\r\n\r\nexport const Card: React.FC<CardProps> = ({ children, title, className, action }) => (\r\n    <div className={`rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm transition-all hover:shadow-md ${className || ''}`}>\r\n        {(title || action) && (\r\n            <div className=\"flex flex-col space-y-1.5 p-6 pb-2\">\r\n                <div className=\"flex items-center justify-between\">\r\n                    {title && <h3 className=\"font-semibold leading-none tracking-tight\">{title}</h3>}\r\n                    {action && <div>{action}</div>}\r\n                </div>\r\n            </div>\r\n        )}\r\n        <div className=\"p-6 pt-2\">{children}</div>\r\n    </div>\r\n);\r\n"],"names":[],"mappings":";;;;;;AASO,MAAM,OAA4B,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAE,MAAM,EAAE,iBAC5E,6LAAC;QAAI,WAAW,CAAC,kGAAkG,EAAE,aAAa,IAAI;;YACjI,CAAC,SAAS,MAAM,mBACb,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBAAI,WAAU;;wBACV,uBAAS,6LAAC;4BAAG,WAAU;sCAA6C;;;;;;wBACpE,wBAAU,6LAAC;sCAAK;;;;;;;;;;;;;;;;;0BAI7B,6LAAC;gBAAI,WAAU;0BAAY;;;;;;;;;;;;KAVtB"}},
    {"offset": {"line": 392, "column": 0}, "map": {"version":3,"sources":["file:///D:/school_manager/components/features/dashboard/FinanceChart.tsx"],"sourcesContent":["import React from 'react';\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Cell } from 'recharts';\r\nimport { Card } from '@/components/ui/card';\r\nimport * as Utils from '@/lib/utils';\r\n\r\ninterface FinanceChartProps {\r\n    revenue: number;\r\n    expenses: number;\r\n}\r\n\r\nexport const FinanceChart: React.FC<FinanceChartProps> = ({ revenue, expenses }) => {\r\n    const financeData = [\r\n        { name: 'Income', amount: revenue, fill: '#10b981' }, // emerald-500\r\n        { name: 'Expenses', amount: expenses, fill: '#ef4444' }, // red-500\r\n    ];\r\n\r\n    return (\r\n        <Card title=\"Financial Overview\">\r\n            <div className=\"h-72 w-full min-h-[300px]\">\r\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                    <BarChart data={financeData}>\r\n                        <CartesianGrid strokeDasharray=\"3 3\" vertical={false} stroke=\"#e5e7eb\" />\r\n                        <XAxis dataKey=\"name\" axisLine={false} tickLine={false} tick={{ fill: '#6b7280', fontSize: 12 }} dy={10} />\r\n                        <YAxis axisLine={false} tickLine={false} tickFormatter={(val) => `₦${val / 1000}k`} tick={{ fill: '#6b7280', fontSize: 12 }} />\r\n                        <Tooltip formatter={(value) => [Utils.formatCurrency(value as number), 'Amount']} />\r\n                        <Bar dataKey=\"amount\" radius={[6, 6, 0, 0]} barSize={60}>\r\n                            {financeData.map((entry, index) => <Cell key={`cell-${index}`} fill={entry.fill} />)}\r\n                        </Bar>\r\n                    </BarChart>\r\n                </ResponsiveContainer>\r\n            </div>\r\n        </Card>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;AAOO,MAAM,eAA4C,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE;IAC3E,MAAM,cAAc;QAChB;YAAE,MAAM;YAAU,QAAQ;YAAS,MAAM;QAAU;QACnD;YAAE,MAAM;YAAY,QAAQ;YAAU,MAAM;QAAU;KACzD;IAED,qBACI,6LAAC,oIAAI;QAAC,OAAM;kBACR,cAAA,6LAAC;YAAI,WAAU;sBACX,cAAA,6LAAC,6LAAmB;gBAAC,OAAM;gBAAO,QAAO;0BACrC,cAAA,6LAAC,mKAAQ;oBAAC,MAAM;;sCACZ,6LAAC,iLAAa;4BAAC,iBAAgB;4BAAM,UAAU;4BAAO,QAAO;;;;;;sCAC7D,6LAAC,iKAAK;4BAAC,SAAQ;4BAAO,UAAU;4BAAO,UAAU;4BAAO,MAAM;gCAAE,MAAM;gCAAW,UAAU;4BAAG;4BAAG,IAAI;;;;;;sCACrG,6LAAC,iKAAK;4BAAC,UAAU;4BAAO,UAAU;4BAAO,eAAe,CAAC,MAAQ,CAAC,CAAC,EAAE,MAAM,KAAK,CAAC,CAAC;4BAAE,MAAM;gCAAE,MAAM;gCAAW,UAAU;4BAAG;;;;;;sCAC1H,6LAAC,qKAAO;4BAAC,WAAW,CAAC,QAAU;oCAAC,iIAAoB,CAAC;oCAAkB;iCAAS;;;;;;sCAChF,6LAAC,6JAAG;4BAAC,SAAQ;4BAAS,QAAQ;gCAAC;gCAAG;gCAAG;gCAAG;6BAAE;4BAAE,SAAS;sCAChD,YAAY,GAAG,CAAC,CAAC,OAAO,sBAAU,6LAAC,+JAAI;oCAAuB,MAAM,MAAM,IAAI;mCAAjC,CAAC,KAAK,EAAE,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOzF;KAvBa"}},
    {"offset": {"line": 533, "column": 0}, "map": {"version":3,"sources":["file:///D:/school_manager/components/features/dashboard/QuickActions.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Plus, CreditCard, Calendar as CalendarIcon, BadgeCheck } from 'lucide-react';\r\nimport { Card } from '@/components/ui/card';\r\nimport * as Types from '@/lib/types';\r\n\r\ninterface QuickActionsProps {\r\n    onChangeView: (view: Types.ViewState) => void;\r\n}\r\n\r\nexport const QuickActions: React.FC<QuickActionsProps> = ({ onChangeView }) => {\r\n    return (\r\n        <Card title=\"Quick Actions\">\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n                <button onClick={() => onChangeView('students')} className=\"group p-4 bg-white border border-blue-100 hover:border-blue-300 hover:shadow-md rounded-xl flex flex-col items-center justify-center gap-3 transition-all\">\r\n                    <div className=\"p-3 bg-blue-100 text-blue-600 rounded-full group-hover:scale-110 transition-transform\"><Plus className=\"h-6 w-6\" /></div>\r\n                    <span className=\"font-semibold text-gray-700 group-hover:text-blue-700\">New Student</span>\r\n                </button>\r\n                <button onClick={() => onChangeView('bursary')} className=\"group p-4 bg-white border border-emerald-100 hover:border-emerald-300 hover:shadow-md rounded-xl flex flex-col items-center justify-center gap-3 transition-all\">\r\n                    <div className=\"p-3 bg-emerald-100 text-emerald-600 rounded-full group-hover:scale-110 transition-transform\"><CreditCard className=\"h-6 w-6\" /></div>\r\n                    <span className=\"font-semibold text-gray-700 group-hover:text-emerald-700\">Record Fee</span>\r\n                </button>\r\n                <button onClick={() => onChangeView('attendance')} className=\"group p-4 bg-white border border-rose-100 hover:border-rose-300 hover:shadow-md rounded-xl flex flex-col items-center justify-center gap-3 transition-all\">\r\n                    <div className=\"p-3 bg-rose-100 text-rose-600 rounded-full group-hover:scale-110 transition-transform\"><CalendarIcon className=\"h-6 w-6\" /></div>\r\n                    <span className=\"font-semibold text-gray-700 group-hover:text-rose-700\">Attendance</span>\r\n                </button>\r\n                <button onClick={() => onChangeView('id_cards')} className=\"group p-4 bg-white border border-orange-100 hover:border-orange-300 hover:shadow-md rounded-xl flex flex-col items-center justify-center gap-3 transition-all\">\r\n                    <div className=\"p-3 bg-orange-100 text-orange-600 rounded-full group-hover:scale-110 transition-transform\"><BadgeCheck className=\"h-6 w-6\" /></div>\r\n                    <span className=\"font-semibold text-gray-700 group-hover:text-orange-700\">ID Cards</span>\r\n                </button>\r\n            </div>\r\n        </Card>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AAAA;AAAA;AAAA;AACA;;;;AAOO,MAAM,eAA4C,CAAC,EAAE,YAAY,EAAE;IACtE,qBACI,6LAAC,oIAAI;QAAC,OAAM;kBACR,cAAA,6LAAC;YAAI,WAAU;;8BACX,6LAAC;oBAAO,SAAS,IAAM,aAAa;oBAAa,WAAU;;sCACvD,6LAAC;4BAAI,WAAU;sCAAwF,cAAA,6LAAC,6MAAI;gCAAC,WAAU;;;;;;;;;;;sCACvH,6LAAC;4BAAK,WAAU;sCAAwD;;;;;;;;;;;;8BAE5E,6LAAC;oBAAO,SAAS,IAAM,aAAa;oBAAY,WAAU;;sCACtD,6LAAC;4BAAI,WAAU;sCAA8F,cAAA,6LAAC,mOAAU;gCAAC,WAAU;;;;;;;;;;;sCACnI,6LAAC;4BAAK,WAAU;sCAA2D;;;;;;;;;;;;8BAE/E,6LAAC;oBAAO,SAAS,IAAM,aAAa;oBAAe,WAAU;;sCACzD,6LAAC;4BAAI,WAAU;sCAAwF,cAAA,6LAAC,yNAAY;gCAAC,WAAU;;;;;;;;;;;sCAC/H,6LAAC;4BAAK,WAAU;sCAAwD;;;;;;;;;;;;8BAE5E,6LAAC;oBAAO,SAAS,IAAM,aAAa;oBAAa,WAAU;;sCACvD,6LAAC;4BAAI,WAAU;sCAA4F,cAAA,6LAAC,mOAAU;gCAAC,WAAU;;;;;;;;;;;sCACjI,6LAAC;4BAAK,WAAU;sCAA0D;;;;;;;;;;;;;;;;;;;;;;;AAK9F;KAvBa"}},
    {"offset": {"line": 702, "column": 0}, "map": {"version":3,"sources":["file:///D:/school_manager/components/features/dashboard/StudentPopulation.tsx"],"sourcesContent":["import React from 'react';\r\nimport { PieChart, Pie, Cell, ResponsiveContainer, Tooltip } from 'recharts';\r\nimport { Card } from '@/components/ui/card';\r\nimport * as Types from '@/lib/types';\r\n\r\ninterface StudentPopulationProps {\r\n    students: Types.Student[];\r\n}\r\n\r\nexport const StudentPopulation: React.FC<StudentPopulationProps> = ({ students }) => {\r\n    const totalStudents = students.length;\r\n    const genderData = [\r\n        { name: 'Male', value: students.filter(s => s.gender === 'Male').length, color: '#3b82f6' },\r\n        { name: 'Female', value: students.filter(s => s.gender === 'Female').length, color: '#ec4899' },\r\n    ];\r\n\r\n    return (\r\n        <Card title=\"Student Population\">\r\n            <div className=\"h-56 w-full relative min-h-[224px]\">\r\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                    <PieChart>\r\n                        <Pie data={genderData} cx=\"50%\" cy=\"50%\" innerRadius={60} outerRadius={80} paddingAngle={5} dataKey=\"value\">\r\n                            {genderData.map((entry, index) => <Cell key={`cell-${index}`} fill={entry.color} strokeWidth={0} />)}\r\n                        </Pie>\r\n                        <Tooltip />\r\n                    </PieChart>\r\n                </ResponsiveContainer>\r\n                <div className=\"absolute inset-0 flex flex-col items-center justify-center pointer-events-none\">\r\n                    <span className=\"text-3xl font-bold text-gray-900\">{totalStudents}</span>\r\n                    <span className=\"text-xs text-gray-500 font-medium uppercase\">Students</span>\r\n                </div>\r\n            </div>\r\n        </Card>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;;;AAOO,MAAM,oBAAsD,CAAC,EAAE,QAAQ,EAAE;IAC5E,MAAM,gBAAgB,SAAS,MAAM;IACrC,MAAM,aAAa;QACf;YAAE,MAAM;YAAQ,OAAO,SAAS,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,QAAQ,MAAM;YAAE,OAAO;QAAU;QAC1F;YAAE,MAAM;YAAU,OAAO,SAAS,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,UAAU,MAAM;YAAE,OAAO;QAAU;KACjG;IAED,qBACI,6LAAC,oIAAI;QAAC,OAAM;kBACR,cAAA,6LAAC;YAAI,WAAU;;8BACX,6LAAC,6LAAmB;oBAAC,OAAM;oBAAO,QAAO;8BACrC,cAAA,6LAAC,mKAAQ;;0CACL,6LAAC,yJAAG;gCAAC,MAAM;gCAAY,IAAG;gCAAM,IAAG;gCAAM,aAAa;gCAAI,aAAa;gCAAI,cAAc;gCAAG,SAAQ;0CAC/F,WAAW,GAAG,CAAC,CAAC,OAAO,sBAAU,6LAAC,+JAAI;wCAAuB,MAAM,MAAM,KAAK;wCAAE,aAAa;uCAAjD,CAAC,KAAK,EAAE,OAAO;;;;;;;;;;0CAEhE,6LAAC,qKAAO;;;;;;;;;;;;;;;;8BAGhB,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAK,WAAU;sCAAoC;;;;;;sCACpD,6LAAC;4BAAK,WAAU;sCAA8C;;;;;;;;;;;;;;;;;;;;;;;AAKlF;KAzBa"}},
    {"offset": {"line": 824, "column": 0}, "map": {"version":3,"sources":["file:///D:/school_manager/components/features/dashboard/RecentTransactions.tsx"],"sourcesContent":["import React from 'react';\r\nimport { DollarSign } from 'lucide-react';\r\nimport { Card } from '@/components/ui/card';\r\nimport * as Types from '@/lib/types';\r\nimport * as Utils from '@/lib/utils';\r\n\r\ninterface RecentTransactionsProps {\r\n    payments: Types.Payment[];\r\n    students: Types.Student[];\r\n}\r\n\r\nexport const RecentTransactions: React.FC<RecentTransactionsProps> = ({ payments, students }) => {\r\n    return (\r\n        <Card title=\"Recent Transactions\">\r\n            <div className=\"space-y-4 mt-2\">\r\n                {payments.slice(-4).reverse().map(p => {\r\n                    const s = students.find(std => std.id === p.student_id);\r\n                    return (\r\n                        <div key={p.id} className=\"flex items-center gap-3 pb-3 border-b border-gray-100 last:border-0 last:pb-0\">\r\n                            <div className=\"h-10 w-10 rounded-full bg-emerald-50 text-emerald-600 flex items-center justify-center flex-shrink-0 border border-emerald-100\"><DollarSign className=\"h-5 w-5\" /></div>\r\n                            <div className=\"min-w-0 flex-1\">\r\n                                <p className=\"text-sm font-semibold text-gray-900 truncate\">{s?.names || 'Unknown Student'}</p>\r\n                                <p className=\"text-xs text-gray-500\">School Fees Payment</p>\r\n                            </div>\r\n                            <div className=\"text-sm font-bold text-emerald-600\">+{Utils.formatCurrency(p.amount)}</div>\r\n                        </div>\r\n                    )\r\n                })}\r\n                {payments.length === 0 && <p className=\"text-gray-400 text-sm text-center py-4 italic\">No recent payments recorded.</p>}\r\n            </div>\r\n        </Card>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAOO,MAAM,qBAAwD,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE;IACxF,qBACI,6LAAC,oIAAI;QAAC,OAAM;kBACR,cAAA,6LAAC;YAAI,WAAU;;gBACV,SAAS,KAAK,CAAC,CAAC,GAAG,OAAO,GAAG,GAAG,CAAC,CAAA;oBAC9B,MAAM,IAAI,SAAS,IAAI,CAAC,CAAA,MAAO,IAAI,EAAE,KAAK,EAAE,UAAU;oBACtD,qBACI,6LAAC;wBAAe,WAAU;;0CACtB,6LAAC;gCAAI,WAAU;0CAAiI,cAAA,6LAAC,mOAAU;oCAAC,WAAU;;;;;;;;;;;0CACtK,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAE,WAAU;kDAAgD,GAAG,SAAS;;;;;;kDACzE,6LAAC;wCAAE,WAAU;kDAAwB;;;;;;;;;;;;0CAEzC,6LAAC;gCAAI,WAAU;;oCAAqC;oCAAE,iIAAoB,CAAC,EAAE,MAAM;;;;;;;;uBAN7E,EAAE,EAAE;;;;;gBAStB;gBACC,SAAS,MAAM,KAAK,mBAAK,6LAAC;oBAAE,WAAU;8BAAgD;;;;;;;;;;;;;;;;;AAIvG;KArBa"}},
    {"offset": {"line": 934, "column": 0}, "map": {"version":3,"sources":["file:///D:/school_manager/components/features/DashboardView.tsx"],"sourcesContent":["import React from 'react';\r\nimport * as Types from '@/lib/types';\r\nimport * as Utils from '@/lib/utils';\r\n\r\n// Dashboard sub-components\r\nimport { DashboardStats } from './dashboard/DashboardStats';\r\nimport { FinanceChart } from './dashboard/FinanceChart';\r\nimport { QuickActions } from './dashboard/QuickActions';\r\nimport { StudentPopulation } from './dashboard/StudentPopulation';\r\nimport { RecentTransactions } from './dashboard/RecentTransactions';\r\n\r\ninterface DashboardViewProps {\r\n    students: Types.Student[];\r\n    teachers: Types.Teacher[];\r\n    staff: Types.Staff[];\r\n    payments: Types.Payment[];\r\n    expenses: Types.Expense[];\r\n    fees: Types.FeeStructure[];\r\n    classes: Types.Class[];\r\n    settings: Types.Settings;\r\n    onChangeView: (view: Types.ViewState) => void;\r\n}\r\n\r\nexport const DashboardView: React.FC<DashboardViewProps> = ({\r\n    students, teachers, staff, payments, expenses, fees, classes, settings, onChangeView\r\n}) => {\r\n    // Shared Calculations\r\n    const currentSessionPayments = payments.filter(p => p.session === settings.current_session && p.term === settings.current_term);\r\n    const totalRevenue = currentSessionPayments.reduce((acc, p) => acc + p.amount, 0);\r\n\r\n    const currentSessionExpenses = expenses.filter(e => e.session === settings.current_session && e.term === settings.current_term);\r\n    const totalExpenses = currentSessionExpenses.reduce((acc, e) => acc + e.amount, 0);\r\n\r\n    let totalExpectedRevenue = 0;\r\n    students.forEach(s => {\r\n        const { totalBill } = Utils.getStudentBalance(s, fees, [], settings.current_session, settings.current_term);\r\n        totalExpectedRevenue += totalBill;\r\n    });\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            {/* Welcome */}\r\n            <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold text-gray-900 tracking-tight\">Executive Dashboard</h1>\r\n                    <p className=\"text-gray-500 font-medium mt-1\">Overview for {settings.current_session} • {settings.current_term}</p>\r\n                </div>\r\n                <div className=\"bg-white px-5 py-3 rounded-xl shadow-sm border border-gray-100 hidden md:block\">\r\n                    <span className=\"text-xs text-gray-400 uppercase font-bold tracking-wider\">Net Position</span>\r\n                    <div className={`text-2xl font-bold ${totalRevenue - totalExpenses >= 0 ? 'text-emerald-600' : 'text-red-600'}`}>\r\n                        {Utils.formatCurrency(totalRevenue - totalExpenses)}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <DashboardStats\r\n                studentsCount={students.length}\r\n                staffCount={teachers.length + staff.length}\r\n                revenue={totalRevenue}\r\n                expenses={totalExpenses}\r\n                targetRevenue={totalExpectedRevenue}\r\n                transactionsCount={currentSessionExpenses.length}\r\n            />\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n                <div className=\"lg:col-span-2 space-y-6\">\r\n                    <FinanceChart revenue={totalRevenue} expenses={totalExpenses} />\r\n                    <QuickActions onChangeView={onChangeView} />\r\n                </div>\r\n                <div className=\"space-y-6\">\r\n                    <StudentPopulation students={students} />\r\n                    <RecentTransactions payments={payments} students={students} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;;;;;;;;AAcO,MAAM,gBAA8C,CAAC,EACxD,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,YAAY,EACvF;IACG,sBAAsB;IACtB,MAAM,yBAAyB,SAAS,MAAM,CAAC,CAAA,IAAK,EAAE,OAAO,KAAK,SAAS,eAAe,IAAI,EAAE,IAAI,KAAK,SAAS,YAAY;IAC9H,MAAM,eAAe,uBAAuB,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,MAAM,EAAE;IAE/E,MAAM,yBAAyB,SAAS,MAAM,CAAC,CAAA,IAAK,EAAE,OAAO,KAAK,SAAS,eAAe,IAAI,EAAE,IAAI,KAAK,SAAS,YAAY;IAC9H,MAAM,gBAAgB,uBAAuB,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,MAAM,EAAE;IAEhF,IAAI,uBAAuB;IAC3B,SAAS,OAAO,CAAC,CAAA;QACb,MAAM,EAAE,SAAS,EAAE,GAAG,oIAAuB,CAAC,GAAG,MAAM,EAAE,EAAE,SAAS,eAAe,EAAE,SAAS,YAAY;QAC1G,wBAAwB;IAC5B;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BAEX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;;0CACG,6LAAC;gCAAG,WAAU;0CAAkD;;;;;;0CAChE,6LAAC;gCAAE,WAAU;;oCAAiC;oCAAc,SAAS,eAAe;oCAAC;oCAAI,SAAS,YAAY;;;;;;;;;;;;;kCAElH,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAK,WAAU;0CAA2D;;;;;;0CAC3E,6LAAC;gCAAI,WAAW,CAAC,mBAAmB,EAAE,eAAe,iBAAiB,IAAI,qBAAqB,gBAAgB;0CAC1G,iIAAoB,CAAC,eAAe;;;;;;;;;;;;;;;;;;0BAKjD,6LAAC,2KAAc;gBACX,eAAe,SAAS,MAAM;gBAC9B,YAAY,SAAS,MAAM,GAAG,MAAM,MAAM;gBAC1C,SAAS;gBACT,UAAU;gBACV,eAAe;gBACf,mBAAmB,uBAAuB,MAAM;;;;;;0BAGpD,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC,uKAAY;gCAAC,SAAS;gCAAc,UAAU;;;;;;0CAC/C,6LAAC,uKAAY;gCAAC,cAAc;;;;;;;;;;;;kCAEhC,6LAAC;wBAAI,WAAU;;0CACX,6LAAC,iLAAiB;gCAAC,UAAU;;;;;;0CAC7B,6LAAC,mLAAkB;gCAAC,UAAU;gCAAU,UAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKtE;KArDa"}},
    {"offset": {"line": 1116, "column": 0}, "map": {"version":3,"sources":["file:///D:/school_manager/app/%28dashboard%29/dashboard/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { useSchoolStore } from '@/lib/store';\r\nimport { DashboardView } from '@/components/features/DashboardView';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport default function DashboardPage() {\r\n    const router = useRouter();\r\n    const {\r\n        students, teachers, staff, payments, expenses, fees, classes, settings\r\n    } = useSchoolStore();\r\n\r\n    return (\r\n        <DashboardView\r\n            students={students}\r\n            teachers={teachers}\r\n            staff={staff}\r\n            payments={payments}\r\n            expenses={expenses}\r\n            fees={fees}\r\n            classes={classes}\r\n            settings={settings}\r\n            onChangeView={(view) => {\r\n                const path = view === 'dashboard' ? '/dashboard' : `/${view}`;\r\n                router.push(path);\r\n            }}\r\n        />\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;;;AALA;;;;AAOe,SAAS;;IACpB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,EACF,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EACzE,GAAG,IAAA,iIAAc;IAElB,qBACI,6LAAC,4JAAa;QACV,UAAU;QACV,UAAU;QACV,OAAO;QACP,UAAU;QACV,UAAU;QACV,MAAM;QACN,SAAS;QACT,UAAU;QACV,cAAc,CAAC;YACX,MAAM,OAAO,SAAS,cAAc,eAAe,CAAC,CAAC,EAAE,MAAM;YAC7D,OAAO,IAAI,CAAC;QAChB;;;;;;AAGZ;GAtBwB;;QACL,kJAAS;QAGpB,iIAAc;;;KAJE"}}]
}