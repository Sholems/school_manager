module.exports=[40695,a=>{"use strict";var b=a.i(87924);a.s(["Button",0,({className:a,variant:c="primary",size:d="md",...e})=>(0,b.jsx)("button",{className:`inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ${{primary:"bg-brand-600 text-white hover:bg-brand-700 focus:ring-brand-500 shadow-sm",secondary:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-brand-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 focus:ring-gray-500"}[c]} ${{sm:"h-8 px-3 text-sm",md:"h-10 px-4 py-2"}[d]} ${a||""}`,...e})])},3130,a=>{"use strict";var b=a.i(87924);a.s(["Card",0,({children:a,title:c,className:d,action:e})=>(0,b.jsxs)("div",{className:`rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm transition-all hover:shadow-md ${d||""}`,children:[(c||e)&&(0,b.jsx)("div",{className:"flex flex-col space-y-1.5 p-6 pb-2",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[c&&(0,b.jsx)("h3",{className:"font-semibold leading-none tracking-tight",children:c}),e&&(0,b.jsx)("div",{children:e})]})}),(0,b.jsx)("div",{className:"p-6 pt-2",children:a})]})])},84505,a=>{"use strict";let b=(0,a.i(70106).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);a.s(["Download",()=>b],84505)},56791,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(84505);let e=(0,a.i(70106).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var f=a.i(97895),g=a.i(40695),h=a.i(3130),i=a.i(49679);let j=()=>{let{addToast:a}=(0,i.useToast)(),j=(0,c.useRef)(null);return(0,b.jsxs)("div",{className:"space-y-6 max-w-2xl mx-auto",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Data Management"}),(0,b.jsx)(h.Card,{title:"Backup & Restore",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 p-4 border rounded-lg bg-blue-50 border-blue-100",children:[(0,b.jsx)("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-full",children:(0,b.jsx)(d.Download,{className:"h-6 w-6"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-bold text-gray-900",children:"Export Data"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Download a complete JSON backup of all school records."})]}),(0,b.jsx)(g.Button,{onClick:()=>{let b=new Blob([JSON.stringify({settings:f.loadFromStorage(f.STORAGE_KEYS.SETTINGS,f.INITIAL_SETTINGS),students:f.loadFromStorage(f.STORAGE_KEYS.STUDENTS,f.SEED_STUDENTS),teachers:f.loadFromStorage(f.STORAGE_KEYS.TEACHERS,f.SEED_TEACHERS),staff:f.loadFromStorage(f.STORAGE_KEYS.STAFF,f.SEED_STAFF),classes:f.loadFromStorage(f.STORAGE_KEYS.CLASSES,f.SEED_CLASSES),scores:f.loadFromStorage(f.STORAGE_KEYS.SCORES,[]),fees:f.loadFromStorage(f.STORAGE_KEYS.FEES,[]),payments:f.loadFromStorage(f.STORAGE_KEYS.PAYMENTS,[]),expenses:f.loadFromStorage(f.STORAGE_KEYS.EXPENSES,[]),attendance:f.loadFromStorage(f.STORAGE_KEYS.ATTENDANCE,[])},null,2)],{type:"application/json"}),c=URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download=`school_backup_${f.getTodayString()}.json`,d.click(),a("Backup downloaded successfully","success")},children:"Download Backup"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 p-4 border rounded-lg bg-orange-50 border-orange-100",children:[(0,b.jsx)("div",{className:"p-3 bg-orange-100 text-orange-600 rounded-full",children:(0,b.jsx)(e,{className:"h-6 w-6"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-bold text-gray-900",children:"Import Data"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Restore from a previously saved backup file. This will overwrite current data."})]}),(0,b.jsx)("input",{type:"file",ref:j,className:"hidden",accept:".json",onChange:b=>{let c=b.target.files?.[0];if(!c)return;let d=new FileReader;d.onload=b=>{try{let c=JSON.parse(b.target?.result);c.settings&&c.students?(f.saveToStorage(f.STORAGE_KEYS.SETTINGS,c.settings),f.saveToStorage(f.STORAGE_KEYS.STUDENTS,c.students),f.saveToStorage(f.STORAGE_KEYS.TEACHERS,c.teachers),f.saveToStorage(f.STORAGE_KEYS.STAFF,c.staff),f.saveToStorage(f.STORAGE_KEYS.CLASSES,c.classes),f.saveToStorage(f.STORAGE_KEYS.SCORES,c.scores),f.saveToStorage(f.STORAGE_KEYS.FEES,c.fees),f.saveToStorage(f.STORAGE_KEYS.PAYMENTS,c.payments),f.saveToStorage(f.STORAGE_KEYS.EXPENSES,c.expenses),f.saveToStorage(f.STORAGE_KEYS.ATTENDANCE,c.attendance),a("Data imported successfully! Refreshing...","success"),setTimeout(()=>window.location.reload(),1500)):a("Invalid backup file format","error")}catch(b){a("Error parsing file","error")}},d.readAsText(c)}}),(0,b.jsx)(g.Button,{variant:"secondary",onClick:()=>j.current?.click(),children:"Select File"})]})]})}),(0,b.jsx)(h.Card,{title:"System Info",children:(0,b.jsxs)("div",{className:"text-sm text-gray-500 space-y-2",children:[(0,b.jsx)("p",{children:"Storage Engine: LocalStorage (Browser)"}),(0,b.jsxs)("p",{children:["Last Sync: ",new Date().toLocaleString()]}),(0,b.jsx)("p",{className:"text-red-500 text-xs mt-4",children:"* Warning: Clearing browser cache will delete all data if not backed up."})]})})]})};function k(){return(0,b.jsx)(j,{})}a.s(["default",()=>k],56791)}];

//# sourceMappingURL=_4b76f109._.js.map