{"version":3,"sources":["../../../../app/%28dashboard%29/bursary/page.tsx","../../../../components/features/BursaryView.tsx","../../../../components/features/bursary/FeeManagement.tsx","../../../../components/features/bursary/ExpenseManagement.tsx","../../../../components/features/bursary/FeeStructureManagement.tsx","../../../../components/features/bursary/BursaryModals.tsx","../../../../components/features/bursary/ReceiptTemplate.tsx"],"sourcesContent":["'use client';\r\nimport { useSchoolStore } from '@/lib/store';\r\nimport { BursaryView } from '@/components/features/BursaryView';\r\n\r\nexport default function BursaryPage() {\r\n    const {\r\n        students, classes, fees, payments, expenses, settings,\r\n        addPayment, addFee, addExpense, deletePayment, deleteFee, deleteExpense\r\n    } = useSchoolStore();\r\n\r\n    return (\r\n        <BursaryView\r\n            students={students} classes={classes} fees={fees} payments={payments}\r\n            expenses={expenses} settings={settings}\r\n            onAddPayment={addPayment} onAddFee={addFee} onAddExpense={addExpense}\r\n            onDeletePayment={deletePayment} onDeleteFee={deleteFee}\r\n        />\r\n    );\r\n}\r\n","import React, { useState } from 'react';\r\nimport * as Types from '@/lib/types';\r\nimport { useToast } from '@/components/providers/toast-provider';\r\n\r\n// Bursary sub-components\r\nimport { FeeManagement } from './bursary/FeeManagement';\r\nimport { ExpenseManagement } from './bursary/ExpenseManagement';\r\nimport { FeeStructureManagement } from './bursary/FeeStructureManagement';\r\nimport { BursaryModals } from './bursary/BursaryModals';\r\n\r\ninterface BursaryViewProps {\r\n    students: Types.Student[];\r\n    classes: Types.Class[];\r\n    fees: Types.FeeStructure[];\r\n    payments: Types.Payment[];\r\n    expenses: Types.Expense[];\r\n    settings: Types.Settings;\r\n    onAddPayment: (p: Types.Payment) => void;\r\n    onAddFee: (f: Types.FeeStructure) => void;\r\n    onAddExpense: (e: Types.Expense) => void;\r\n    onDeletePayment: (id: string) => void;\r\n    onDeleteFee: (id: string) => void;\r\n}\r\n\r\nexport const BursaryView: React.FC<BursaryViewProps> = ({\r\n    students, classes, fees, payments, expenses, settings, onAddPayment, onAddFee, onAddExpense, onDeletePayment, onDeleteFee\r\n}) => {\r\n    const [activeTab, setActiveTab] = useState<'fees' | 'expenses' | 'structure'>('fees');\r\n    const [selectedClass, setSelectedClass] = useState(classes[0]?.id || '');\r\n    const [selectedStudent, setSelectedStudent] = useState<string | null>(null);\r\n\r\n    // Modal Visibility State\r\n    const [showPayModal, setShowPayModal] = useState(false);\r\n    const [showExpenseModal, setShowExpenseModal] = useState(false);\r\n    const [showFeeModal, setShowFeeModal] = useState(false);\r\n    const [receiptPayment, setReceiptPayment] = useState<Types.Payment | null>(null);\r\n    const { addToast } = useToast();\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex justify-between items-center\">\r\n                <h1 className=\"text-2xl font-bold text-gray-900\">Bursary & Finance</h1>\r\n                <div className=\"flex bg-gray-100 p-1 rounded-lg\">\r\n                    {(['fees', 'expenses', 'structure'] as const).map(tab => (\r\n                        <button key={tab} onClick={() => setActiveTab(tab)} className={`px-4 py-2 text-sm font-medium rounded-md capitalize ${activeTab === tab ? 'bg-white shadow-sm text-brand-700' : 'text-gray-600 hover:text-gray-900'}`}>{tab}</button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {activeTab === 'fees' && (\r\n                <FeeManagement\r\n                    students={students}\r\n                    classes={classes}\r\n                    fees={fees}\r\n                    payments={payments}\r\n                    settings={settings}\r\n                    selectedClass={selectedClass}\r\n                    setSelectedClass={setSelectedClass}\r\n                    selectedStudent={selectedStudent}\r\n                    setSelectedStudent={setSelectedStudent}\r\n                    onRecordPayment={() => setShowPayModal(true)}\r\n                    onPrintReceipt={(p) => setReceiptPayment(p)}\r\n                    onDeletePayment={onDeletePayment}\r\n                />\r\n            )}\r\n\r\n            {activeTab === 'expenses' && (\r\n                <ExpenseManagement\r\n                    expenses={expenses}\r\n                    onAddExpense={() => setShowExpenseModal(true)}\r\n                />\r\n            )}\r\n\r\n            {activeTab === 'structure' && (\r\n                <FeeStructureManagement\r\n                    fees={fees}\r\n                    classes={classes}\r\n                    settings={settings}\r\n                    onAddFeeHead={() => setShowFeeModal(true)}\r\n                    onDeleteFee={onDeleteFee}\r\n                />\r\n            )}\r\n\r\n            <BursaryModals\r\n                settings={settings}\r\n                classes={classes}\r\n                students={students}\r\n                fees={fees}\r\n                payments={payments}\r\n                showPayModal={showPayModal}\r\n                setShowPayModal={setShowPayModal}\r\n                showExpenseModal={showExpenseModal}\r\n                setShowExpenseModal={setShowExpenseModal}\r\n                showFeeModal={showFeeModal}\r\n                setShowFeeModal={setShowFeeModal}\r\n                receiptPayment={receiptPayment}\r\n                setReceiptPayment={setReceiptPayment}\r\n                selectedStudent={selectedStudent}\r\n                onAddPayment={onAddPayment}\r\n                onAddExpense={onAddExpense}\r\n                onAddFee={onAddFee}\r\n                addToast={addToast}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport { Plus, Printer, Trash2, User } from 'lucide-react';\r\nimport { Card } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Select } from '@/components/ui/select';\r\nimport * as Types from '@/lib/types';\r\nimport * as Utils from '@/lib/utils';\r\n\r\ninterface FeeManagementProps {\r\n    students: Types.Student[];\r\n    classes: Types.Class[];\r\n    fees: Types.FeeStructure[];\r\n    payments: Types.Payment[];\r\n    settings: Types.Settings;\r\n    selectedClass: string;\r\n    setSelectedClass: (id: string) => void;\r\n    selectedStudent: string | null;\r\n    setSelectedStudent: (id: string | null) => void;\r\n    onRecordPayment: () => void;\r\n    onPrintReceipt: (p: Types.Payment) => void;\r\n    onDeletePayment: (id: string) => void;\r\n}\r\n\r\nexport const FeeManagement: React.FC<FeeManagementProps> = ({\r\n    students, classes, fees, payments, settings, selectedClass, setSelectedClass, selectedStudent, setSelectedStudent, onRecordPayment, onPrintReceipt, onDeletePayment\r\n}) => {\r\n    const activeStudents = students.filter(s => s.class_id === selectedClass);\r\n    const student = students.find(s => s.id === selectedStudent);\r\n    const studentPayments = selectedStudent ? payments.filter(p => p.student_id === selectedStudent) : [];\r\n    const applicableFees = student ? fees.filter(f => f.session === settings.current_session && f.term === settings.current_term && (f.class_id === null || f.class_id === student.class_id)) : [];\r\n    const { totalBill, totalPaid, balance } = student ? Utils.getStudentBalance(student, fees, payments, settings.current_session, settings.current_term) : { totalBill: 0, totalPaid: 0, balance: 0 };\r\n\r\n    return (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n            <div className=\"md:col-span-1 space-y-4\">\r\n                <Card className=\"h-full\">\r\n                    <div className=\"mb-4\"><Select label=\"Select Class\" value={selectedClass} onChange={e => setSelectedClass(e.target.value)}>{classes.map(c => <option key={c.id} value={c.id}>{c.name}</option>)}</Select></div>\r\n                    <div className=\"space-y-1 h-[600px] overflow-y-auto\">\r\n                        {activeStudents.map(s => {\r\n                            const bal = Utils.getStudentBalance(s, fees, payments, settings.current_session, settings.current_term).balance;\r\n                            return (\r\n                                <div key={s.id} onClick={() => setSelectedStudent(s.id)} className={`p-3 rounded-md cursor-pointer flex justify-between items-center text-sm ${selectedStudent === s.id ? 'bg-brand-50 border-brand-200 border' : 'hover:bg-gray-50'}`}>\r\n                                    <div><div className=\"font-medium\">{s.names}</div><div className=\"text-xs text-gray-500\">{s.student_no}</div></div>\r\n                                    <div className={`font-mono ${bal > 0 ? 'text-red-600' : 'text-green-600'}`}>{bal > 0 ? `-${Utils.formatCurrency(bal)}` : 'Paid'}</div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </Card>\r\n            </div>\r\n            <div className=\"md:col-span-2\">\r\n                {selectedStudent && student ? (\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"grid grid-cols-3 gap-4\">\r\n                            <Card className=\"bg-blue-50 border-blue-100 p-4\"><div className=\"text-sm text-blue-600\">Total Bill</div><div className=\"text-xl font-bold text-blue-900\">{Utils.formatCurrency(totalBill)}</div></Card>\r\n                            <Card className=\"bg-green-50 border-green-100 p-4\"><div className=\"text-sm text-green-600\">Total Paid</div><div className=\"text-xl font-bold text-green-900\">{Utils.formatCurrency(totalPaid)}</div></Card>\r\n                            <Card className=\"bg-red-50 border-red-100 p-4\"><div className=\"text-sm text-red-600\">Outstanding</div><div className=\"text-xl font-bold text-red-900\">{Utils.formatCurrency(balance)}</div></Card>\r\n                        </div>\r\n                        <Card title=\"Bill Breakdown\">\r\n                            <table className=\"w-full text-sm text-left\">\r\n                                <thead className=\"bg-gray-50 text-gray-700\"><tr><th className=\"px-4 py-2\">Fee Head</th><th className=\"px-4 py-2 text-right\">Amount</th></tr></thead>\r\n                                <tbody className=\"divide-y divide-gray-100\">\r\n                                    {applicableFees.map(fee => <tr key={fee.id}><td className=\"px-4 py-2\">{fee.name}</td><td className=\"px-4 py-2 text-right font-mono\">{Utils.formatCurrency(fee.amount)}</td></tr>)}\r\n                                    <tr className=\"bg-gray-50 font-bold\"><td className=\"px-4 py-2\">Total Billed</td><td className=\"px-4 py-2 text-right\">{Utils.formatCurrency(totalBill)}</td></tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </Card>\r\n                        <Card title=\"Payment History\" action={<Button size=\"sm\" onClick={onRecordPayment}><Plus className=\"h-4 w-4 mr-2\" /> Record Payment</Button>}>\r\n                            <div className=\"space-y-3 mt-2\">\r\n                                {studentPayments.length === 0 && <div className=\"text-center py-4 text-gray-500\">No payments recorded.</div>}\r\n                                {studentPayments.map(p => (\r\n                                    <div key={p.id} className=\"flex justify-between items-center p-3 bg-gray-50 rounded border border-gray-100\">\r\n                                        <div><div className=\"font-medium text-gray-900\">{Utils.formatCurrency(p.amount)}</div><div className=\"text-xs text-gray-500\">{p.date} â€¢ {p.method}</div>{p.remark && <div className=\"text-xs text-gray-500 italic\">\"{p.remark}\"</div>}</div>\r\n                                        <div className=\"flex gap-2\"><button onClick={() => onPrintReceipt(p)} title=\"Print Receipt\" className=\"p-1 text-gray-400 hover:text-blue-600\"><Printer className=\"h-4 w-4\" /></button><button onClick={() => onDeletePayment(p.id)} title=\"Delete\" className=\"p-1 text-gray-400 hover:text-red-600\"><Trash2 className=\"h-4 w-4\" /></button></div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </Card>\r\n                    </div>\r\n                ) : <div className=\"h-full flex flex-col items-center justify-center text-gray-400 border-2 border-dashed border-gray-200 rounded-lg p-12\"><User className=\"h-12 w-12 mb-4 opacity-50\" /><p>Select a student to view fees and payments</p></div>}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport { Plus } from 'lucide-react';\r\nimport { Card } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport * as Types from '@/lib/types';\r\nimport * as Utils from '@/lib/utils';\r\n\r\ninterface ExpenseManagementProps {\r\n    expenses: Types.Expense[];\r\n    onAddExpense: () => void;\r\n}\r\n\r\nexport const ExpenseManagement: React.FC<ExpenseManagementProps> = ({ expenses, onAddExpense }) => {\r\n    return (\r\n        <div className=\"space-y-4\">\r\n            <div className=\"flex justify-end\"><Button onClick={onAddExpense}><Plus className=\"h-4 w-4 mr-2\" /> Record Expense</Button></div>\r\n            <Card>\r\n                <table className=\"w-full text-sm text-left\">\r\n                    <thead className=\"bg-gray-50 text-gray-700\"><tr><th className=\"px-4 py-3\">Date</th><th className=\"px-4 py-3\">Title</th><th className=\"px-4 py-3\">Category</th><th className=\"px-4 py-3 text-right\">Amount</th></tr></thead>\r\n                    <tbody className=\"divide-y divide-gray-100\">\r\n                        {expenses.map(e => (\r\n                            <tr key={e.id}>\r\n                                <td className=\"px-4 py-3\">{e.date}</td><td className=\"px-4 py-3\">{e.title}</td><td className=\"px-4 py-3 capitalize\"><span className=\"px-2 py-1 bg-gray-100 rounded text-xs\">{e.category}</span></td><td className=\"px-4 py-3 text-right font-mono text-red-600\">-{Utils.formatCurrency(e.amount)}</td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </Card>\r\n        </div>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport { Plus, Trash2 } from 'lucide-react';\r\nimport { Card } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport * as Types from '@/lib/types';\r\nimport * as Utils from '@/lib/utils';\r\n\r\ninterface FeeStructureManagementProps {\r\n    fees: Types.FeeStructure[];\r\n    classes: Types.Class[];\r\n    settings: Types.Settings;\r\n    onAddFeeHead: () => void;\r\n    onDeleteFee: (id: string) => void;\r\n}\r\n\r\nexport const FeeStructureManagement: React.FC<FeeStructureManagementProps> = ({\r\n    fees, classes, settings, onAddFeeHead, onDeleteFee\r\n}) => {\r\n    return (\r\n        <div className=\"space-y-4\">\r\n            <div className=\"flex justify-end\"><Button onClick={onAddFeeHead}><Plus className=\"h-4 w-4 mr-2\" /> Add Fee Head</Button></div>\r\n            <Card title=\"Current Session Fee Structure\">\r\n                <table className=\"w-full text-sm text-left\">\r\n                    <thead className=\"bg-gray-50 text-gray-700\"><tr><th className=\"px-4 py-3\">Fee Name</th><th className=\"px-4 py-3\">Class Scope</th><th className=\"px-4 py-3 text-right\">Amount</th><th className=\"px-4 py-3\"></th></tr></thead>\r\n                    <tbody className=\"divide-y divide-gray-100\">\r\n                        {fees.filter(f => f.session === settings.current_session && f.term === settings.current_term).map(f => {\r\n                            const clsName = f.class_id ? classes.find(c => c.id === f.class_id)?.name : 'All Classes';\r\n                            return (\r\n                                <tr key={f.id}>\r\n                                    <td className=\"px-4 py-3 font-medium\">{f.name}</td>\r\n                                    <td className=\"px-4 py-3\"><span className=\"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs\">{clsName}</span></td>\r\n                                    <td className=\"px-4 py-3 text-right font-mono\">{Utils.formatCurrency(f.amount)}</td>\r\n                                    <td className=\"px-4 py-3 text-right\"><button onClick={() => onDeleteFee(f.id)} className=\"text-gray-400 hover:text-red-600\"><Trash2 className=\"h-4 w-4\" /></button></td>\r\n                                </tr>\r\n                            )\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            </Card>\r\n        </div>\r\n    );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Printer } from 'lucide-react';\r\nimport { Modal } from '@/components/ui/modal';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Select } from '@/components/ui/select';\r\nimport { ReceiptTemplate } from './ReceiptTemplate';\r\nimport * as Types from '@/lib/types';\r\nimport * as Utils from '@/lib/utils';\r\n\r\ninterface BursaryModalsProps {\r\n    settings: Types.Settings;\r\n    classes: Types.Class[];\r\n    students: Types.Student[];\r\n    fees: Types.FeeStructure[];\r\n    payments: Types.Payment[];\r\n\r\n    showPayModal: boolean;\r\n    setShowPayModal: (show: boolean) => void;\r\n    showExpenseModal: boolean;\r\n    setShowExpenseModal: (show: boolean) => void;\r\n    showFeeModal: boolean;\r\n    setShowFeeModal: (show: boolean) => void;\r\n    receiptPayment: Types.Payment | null;\r\n    setReceiptPayment: (p: Types.Payment | null) => void;\r\n\r\n    selectedStudent: string | null;\r\n    onAddPayment: (p: Types.Payment) => void;\r\n    onAddExpense: (e: Types.Expense) => void;\r\n    onAddFee: (f: Types.FeeStructure) => void;\r\n    addToast: (msg: string, type: 'success' | 'error') => void;\r\n}\r\n\r\nexport const BursaryModals: React.FC<BursaryModalsProps> = ({\r\n    settings, classes, students, fees, payments,\r\n    showPayModal, setShowPayModal, showExpenseModal, setShowExpenseModal, showFeeModal, setShowFeeModal, receiptPayment, setReceiptPayment,\r\n    selectedStudent, onAddPayment, onAddExpense, onAddFee, addToast\r\n}) => {\r\n    // Forms\r\n    const [payAmount, setPayAmount] = useState('');\r\n    const [payMethod, setPayMethod] = useState('cash');\r\n    const [payRemark, setPayRemark] = useState('');\r\n\r\n    const [expTitle, setExpTitle] = useState('');\r\n    const [expAmount, setExpAmount] = useState('');\r\n    const [expCat, setExpCat] = useState('supplies');\r\n    const [expDate, setExpDate] = useState(Utils.getTodayString());\r\n\r\n    const [feeName, setFeeName] = useState('');\r\n    const [feeAmount, setFeeAmount] = useState('');\r\n    const [feeClass, setFeeClass] = useState('');\r\n\r\n    const handlePaymentSubmit = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!selectedStudent) return;\r\n        onAddPayment({\r\n            id: Utils.generateId(), student_id: selectedStudent, amount: Number(payAmount), method: payMethod as any, remark: payRemark, date: Utils.getTodayString(), session: settings.current_session, term: settings.current_term, created_at: Date.now(), updated_at: Date.now()\r\n        });\r\n        addToast('Payment recorded successfully', 'success'); setShowPayModal(false); setPayAmount(''); setPayRemark('');\r\n    };\r\n\r\n    const handleExpenseSubmit = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        onAddExpense({\r\n            id: Utils.generateId(), title: expTitle, amount: Number(expAmount), category: expCat as any, date: expDate, session: settings.current_session, term: settings.current_term, created_at: Date.now(), updated_at: Date.now()\r\n        });\r\n        addToast('Expense recorded', 'success'); setShowExpenseModal(false); setExpTitle(''); setExpAmount('');\r\n    };\r\n\r\n    const handleFeeSubmit = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        onAddFee({\r\n            id: Utils.generateId(), name: feeName, amount: Number(feeAmount), class_id: feeClass || null, session: settings.current_session, term: settings.current_term, created_at: Date.now(), updated_at: Date.now()\r\n        });\r\n        addToast('Fee structure added', 'success'); setShowFeeModal(false); setFeeName(''); setFeeAmount(''); setFeeClass('');\r\n    };\r\n\r\n    const student = students.find(s => s.id === selectedStudent);\r\n    const { balance } = student ? Utils.getStudentBalance(student, fees, payments, settings.current_session, settings.current_term) : { balance: 0 };\r\n\r\n    return (\r\n        <>\r\n            <Modal isOpen={showPayModal} onClose={() => setShowPayModal(false)} title=\"Record Payment\">\r\n                <form onSubmit={handlePaymentSubmit} className=\"space-y-4\">\r\n                    <Input label=\"Amount (NGN)\" type=\"number\" required value={payAmount} onChange={e => setPayAmount(e.target.value)} />\r\n                    <Select label=\"Payment Method\" value={payMethod} onChange={e => setPayMethod(e.target.value)}><option value=\"cash\">Cash</option><option value=\"transfer\">Bank Transfer</option><option value=\"pos\">POS</option></Select>\r\n                    <Input label=\"Remark/Note\" value={payRemark} onChange={e => setPayRemark(e.target.value)} />\r\n                    <Button type=\"submit\" className=\"w-full\">Save Payment</Button>\r\n                </form>\r\n            </Modal>\r\n\r\n            <Modal isOpen={!!receiptPayment} onClose={() => setReceiptPayment(null)} title=\"Print Receipt\">\r\n                {receiptPayment && student && (\r\n                    <div className=\"overflow-y-auto max-h-[80vh]\">\r\n                        <ReceiptTemplate payment={receiptPayment} student={student} cls={classes.find(c => c.id === student.class_id)} settings={settings} balance={balance} />\r\n                        <div className=\"mt-4 flex justify-end gap-2\"><Button variant=\"secondary\" onClick={() => setReceiptPayment(null)}>Close</Button><Button onClick={() => window.print()}><Printer className=\"h-4 w-4 mr-2\" /> Print</Button></div>\r\n                    </div>\r\n                )}\r\n            </Modal>\r\n\r\n            <Modal isOpen={showExpenseModal} onClose={() => setShowExpenseModal(false)} title=\"Record Expense\">\r\n                <form onSubmit={handleExpenseSubmit} className=\"space-y-4\">\r\n                    <Input label=\"Title\" required value={expTitle} onChange={e => setExpTitle(e.target.value)} />\r\n                    <Input label=\"Amount\" type=\"number\" required value={expAmount} onChange={e => setExpAmount(e.target.value)} />\r\n                    <Select label=\"Category\" value={expCat} onChange={e => setExpCat(e.target.value)}><option value=\"supplies\">Supplies</option><option value=\"maintenance\">Maintenance</option><option value=\"salary\">Salary</option><option value=\"utilities\">Utilities</option><option value=\"other\">Other</option></Select>\r\n                    <Input label=\"Date\" type=\"date\" value={expDate} onChange={e => setExpDate(e.target.value)} />\r\n                    <Button type=\"submit\" className=\"w-full\">Save Expense</Button>\r\n                </form>\r\n            </Modal>\r\n\r\n            <Modal isOpen={showFeeModal} onClose={() => setShowFeeModal(false)} title=\"Add Fee Structure\">\r\n                <form onSubmit={handleFeeSubmit} className=\"space-y-4\">\r\n                    <Input label=\"Fee Name\" required value={feeName} onChange={e => setFeeName(e.target.value)} placeholder=\"e.g. Tuition Fee\" />\r\n                    <Input label=\"Amount\" type=\"number\" required value={feeAmount} onChange={e => setFeeAmount(e.target.value)} />\r\n                    <Select label=\"Applicable Class\" value={feeClass} onChange={e => setFeeClass(e.target.value)}><option value=\"\">All Classes</option>{classes.map(c => <option key={c.id} value={c.id}>{c.name}</option>)}</Select>\r\n                    <Button type=\"submit\" className=\"w-full\">Create Fee</Button>\r\n                </form>\r\n            </Modal>\r\n        </>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport * as Types from '@/lib/types';\r\nimport * as Utils from '@/lib/utils';\r\n\r\ninterface ReceiptTemplateProps {\r\n    payment: Types.Payment;\r\n    student: Types.Student;\r\n    cls?: Types.Class;\r\n    settings: Types.Settings;\r\n    balance: number;\r\n}\r\n\r\nexport const ReceiptTemplate: React.FC<ReceiptTemplateProps> = ({ payment, student, cls, settings, balance }) => {\r\n    return (\r\n        <div className=\"bg-white p-8 max-w-2xl mx-auto border border-gray-200 text-sm\" id=\"receipt-print\">\r\n            <div className=\"text-center mb-8 border-b pb-4\">\r\n                {settings.logo_media && <img src={settings.logo_media} alt=\"Logo\" className=\"h-16 mx-auto mb-2\" />}\r\n                <h1 className=\"text-2xl font-bold uppercase\">{settings.school_name}</h1>\r\n                <p>{settings.school_address}</p>\r\n                <p>{settings.school_email} | {settings.school_phone}</p>\r\n            </div>\r\n            <div className=\"flex justify-between items-center mb-6\">\r\n                <div><h2 className=\"text-lg font-bold\">PAYMENT RECEIPT</h2><p>Receipt No: #{payment.id.substring(0, 8).toUpperCase()}</p><p>Date: {payment.date}</p></div>\r\n                <div className=\"text-right\"><p>Session: {payment.session}</p><p>Term: {payment.term}</p></div>\r\n            </div>\r\n            <div className=\"mb-6\"><p><strong>Received From:</strong> {student.names} ({student.student_no})</p><p><strong>Class:</strong> {cls?.name || 'N/A'}</p></div>\r\n            <div className=\"mb-6\">\r\n                <table className=\"w-full border-collapse border border-gray-300\">\r\n                    <thead><tr className=\"bg-gray-100\"><th className=\"border border-gray-300 p-2 text-left\">Description</th><th className=\"border border-gray-300 p-2 text-right\">Amount</th></tr></thead>\r\n                    <tbody><tr><td className=\"border border-gray-300 p-2\">School Fees Payment {payment.method && ` via ${payment.method}`} {payment.remark && ` (${payment.remark})`}</td><td className=\"border border-gray-300 p-2 text-right\">{Utils.formatCurrency(payment.amount)}</td></tr></tbody>\r\n                </table>\r\n            </div>\r\n            <div className=\"flex justify-end mb-12\">\r\n                <div className=\"text-right\"><p className=\"text-lg font-bold\">Total Paid: {Utils.formatCurrency(payment.amount)}</p><p className=\"text-sm text-gray-500\">Balance Remaining: {Utils.formatCurrency(balance)}</p></div>\r\n            </div>\r\n            <div className=\"flex justify-between mt-12 pt-4 border-t\"><div className=\"text-center\"><p className=\"border-t border-black px-8 mt-8 pt-2\">Bursar's Signature</p></div><div className=\"text-center\"><p className=\"italic text-xs\">Thank you for your business.</p></div></div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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"}