module.exports=[87682,a=>{"use strict";var b=a.i(87924);a.s(["Select",0,({label:a,className:c,children:d,...e})=>(0,b.jsxs)("div",{className:"flex flex-col gap-1.5",children:[a&&(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:a}),(0,b.jsx)("select",{className:`flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500 disabled:cursor-not-allowed disabled:opacity-50 ${c||""}`,...e,children:d})]})])},40695,a=>{"use strict";var b=a.i(87924);a.s(["Button",0,({className:a,variant:c="primary",size:d="md",...e})=>(0,b.jsx)("button",{className:`inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ${{primary:"bg-brand-600 text-white hover:bg-brand-700 focus:ring-brand-500 shadow-sm",secondary:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-brand-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 focus:ring-gray-500"}[c]} ${{sm:"h-8 px-3 text-sm",md:"h-10 px-4 py-2"}[d]} ${a||""}`,...e})])},3130,a=>{"use strict";var b=a.i(87924);a.s(["Card",0,({children:a,title:c,className:d,action:e})=>(0,b.jsxs)("div",{className:`rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm transition-all hover:shadow-md ${d||""}`,children:[(c||e)&&(0,b.jsx)("div",{className:"flex flex-col space-y-1.5 p-6 pb-2",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[c&&(0,b.jsx)("h3",{className:"font-semibold leading-none tracking-tight",children:c}),e&&(0,b.jsx)("div",{children:e})]})}),(0,b.jsx)("div",{className:"p-6 pt-2",children:a})]})])},32324,a=>{"use strict";var b=a.i(87924),c=a.i(33508);a.s(["Modal",0,({isOpen:a,onClose:d,title:e,children:f,size:g="md"})=>a?(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 animate-in fade-in duration-200 overflow-y-auto backdrop-blur-sm",children:(0,b.jsxs)("div",{className:`relative w-full ${{sm:"max-w-md",md:"max-w-lg sm:max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl"}[g]} rounded-xl bg-white shadow-2xl my-8 flex flex-col max-h-[90vh]`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between border-b p-4 bg-gray-50 rounded-t-xl shrink-0",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:e}),(0,b.jsx)("button",{onClick:d,className:"rounded-full p-1 hover:bg-gray-200 transition-colors",children:(0,b.jsx)(c.X,{className:"h-5 w-5 text-gray-500"})})]}),(0,b.jsx)("div",{className:"p-6 overflow-y-auto",children:f})]})}):null])},46842,a=>{"use strict";let b=(0,a.i(70106).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],46842)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],87532)},1327,a=>{"use strict";var b=a.i(87924),c=a.i(68515),d=a.i(72131),e=a.i(53722),f=a.i(46842);let g=(0,a.i(70106).default)("library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);var h=a.i(87532),i=a.i(97895),j=a.i(40695),k=a.i(3130),l=a.i(87682),m=a.i(32324),n=a.i(49679);let o=({classes:a,teachers:c,onUpdate:o})=>{let[p,q]=(0,d.useState)(null),[r,s]=(0,d.useState)(""),[t,u]=(0,d.useState)(""),{addToast:v}=(0,n.useToast)(),w=Array.from(new Set([...i.PRESET_PRESCHOOL_SUBJECTS,...i.PRESET_PRIMARY_SUBJECTS,"French","Music","Phonics","Handwriting","Diction","Home Economics","Agricultural Science","History","Geography","Literature","Coding/Robotics"])).sort(),x=a=>{if(!p)return;let b=p.subjects||[];b.includes(a)?q({...p,subjects:b.filter(b=>b!==a)}):q({...p,subjects:[...b,a]})},y=a=>{if(!p)return;let b="nursery"===a?i.PRESET_PRESCHOOL_SUBJECTS:i.PRESET_PRIMARY_SUBJECTS;q({...p,subjects:[...b]})},z=()=>{if(!p||!t.trim())return;let a=t.trim(),b=p.subjects||[];b.includes(a)||(q({...p,subjects:[...b,a]}),v(`Added ${a}`,"success")),u("")},A=p?.subjects||[],B=w.filter(a=>a.toLowerCase().includes(r.toLowerCase()));return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Class & Subject Configuration"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Assign teachers and manage subjects for each class."})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map(a=>{let d=c.find(b=>b.id===a.class_teacher_id),g=(a.subjects??i.getSubjectsForClass(a)).length;return(0,b.jsx)(k.Card,{className:"hover:border-brand-400 transition-all cursor-pointer group",children:(0,b.jsxs)("div",{className:"flex flex-col h-full justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsx)("h3",{className:"font-bold text-xl text-gray-800",children:a.name}),(0,b.jsx)("div",{className:"bg-gray-100 p-2 rounded-full group-hover:bg-brand-50 transition-colors",children:(0,b.jsx)(e.BookOpen,{className:"h-5 w-5 text-gray-500 group-hover:text-brand-600"})})]}),(0,b.jsxs)("div",{className:"text-sm text-gray-600 mb-4 flex items-center gap-2",children:[(0,b.jsx)(f.User,{className:"h-4 w-4 text-gray-400"}),d?(0,b.jsx)("span",{className:"font-medium text-brand-700",children:d.name}):(0,b.jsx)("span",{className:"italic text-gray-400",children:"No Class Teacher"})]})]}),(0,b.jsxs)("div",{className:"border-t pt-4 flex justify-between items-center",children:[(0,b.jsxs)("span",{className:"text-xs font-medium bg-gray-100 px-2 py-1 rounded text-gray-600",children:[g," Subjects"]}),(0,b.jsx)(j.Button,{size:"sm",variant:"secondary",onClick:()=>{let b;return b=a.subjects??i.getSubjectsForClass(a),void q({...a,subjects:b})},children:"Configure"})]})]})},a.id)})}),(0,b.jsx)(m.Modal,{isOpen:!!p,onClose:()=>q(null),title:`Configure ${p?.name}`,size:"lg",children:p&&(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),p&&(o({...p,updated_at:Date.now()}),v("Class configuration updated","success"),q(null))},className:"space-y-6",children:[(0,b.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100",children:(0,b.jsxs)(l.Select,{label:"Class Teacher",value:p.class_teacher_id||"",onChange:a=>q({...p,class_teacher_id:a.target.value||null}),children:[(0,b.jsx)("option",{value:"",children:"-- Select Teacher --"}),c.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsxs)("h4",{className:"font-bold text-gray-900 flex items-center gap-2",children:[(0,b.jsx)(g,{className:"h-4 w-4"})," Assigned Subjects"]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>y("nursery"),className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 font-medium",children:"Reset to Nursery"}),(0,b.jsx)("button",{type:"button",onClick:()=>y("primary"),className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded hover:bg-blue-200 font-medium",children:"Reset to Primary"})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,b.jsx)("input",{className:"flex-1 h-9 rounded-md border border-gray-300 px-3 text-sm focus:ring-brand-500 focus:outline-none",placeholder:"Add custom subject...",value:t,onChange:a=>u(a.target.value),onKeyDown:a=>{"Enter"===a.key&&(a.preventDefault(),z())}}),(0,b.jsx)(j.Button,{type:"button",size:"sm",onClick:z,children:"Add"})]}),(0,b.jsxs)("div",{className:"mb-2 relative",children:[(0,b.jsx)(h.Search,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-400"}),(0,b.jsx)("input",{className:"w-full h-9 pl-9 rounded-md border border-gray-300 text-sm focus:ring-brand-500 focus:outline-none",placeholder:"Filter subjects...",value:r,onChange:a=>s(a.target.value)})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-[300px] overflow-y-auto border rounded-md p-4 bg-gray-50/50",children:[B.map(a=>{let c=A.includes(a);return(0,b.jsxs)("label",{className:`flex items-center gap-2 p-2 rounded cursor-pointer transition-colors text-sm ${c?"bg-brand-50 text-brand-900 font-medium border border-brand-200":"hover:bg-gray-100 text-gray-600 border border-transparent"}`,children:[(0,b.jsx)("input",{type:"checkbox",className:"rounded text-brand-600 focus:ring-brand-500 h-4 w-4",checked:c,onChange:()=>x(a)}),a]},a)}),A.filter(a=>!w.includes(a)&&!a.toLowerCase().includes(r.toLowerCase())).map(a=>(0,b.jsxs)("label",{className:"flex items-center gap-2 p-2 rounded cursor-pointer transition-colors text-sm bg-brand-50 text-brand-900 font-medium border border-brand-200",children:[(0,b.jsx)("input",{type:"checkbox",className:"rounded text-brand-600 focus:ring-brand-500 h-4 w-4",checked:!0,onChange:()=>x(a)}),a," (Custom)"]},a))]}),(0,b.jsxs)("div",{className:"mt-2 text-right text-xs text-gray-500",children:[A.length," subjects selected"]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,b.jsx)(j.Button,{type:"button",variant:"secondary",onClick:()=>q(null),children:"Cancel"}),(0,b.jsx)(j.Button,{type:"submit",children:"Save Changes"})]})]})})]})};function p(){let{classes:a,teachers:d,updateClass:e}=(0,c.useSchoolStore)();return(0,b.jsx)(o,{classes:a,teachers:d,onUpdate:e})}a.s(["default",()=>p],1327)}];

//# sourceMappingURL=_430a790c._.js.map