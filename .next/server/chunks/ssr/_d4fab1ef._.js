module.exports=[40695,a=>{"use strict";var b=a.i(87924);a.s(["Button",0,({className:a,variant:c="primary",size:d="md",...e})=>(0,b.jsx)("button",{className:`inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ${{primary:"bg-brand-600 text-white hover:bg-brand-700 focus:ring-brand-500 shadow-sm",secondary:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-brand-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 focus:ring-gray-500"}[c]} ${{sm:"h-8 px-3 text-sm",md:"h-10 px-4 py-2"}[d]} ${a||""}`,...e})])},87682,a=>{"use strict";var b=a.i(87924);a.s(["Select",0,({label:a,className:c,children:d,...e})=>(0,b.jsxs)("div",{className:"flex flex-col gap-1.5",children:[a&&(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:a}),(0,b.jsx)("select",{className:`flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500 disabled:cursor-not-allowed disabled:opacity-50 ${c||""}`,...e,children:d})]})])},71931,a=>{"use strict";let b=(0,a.i(70106).default)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);a.s(["Printer",()=>b],71931)},41887,a=>{"use strict";var b=a.i(87924),c=a.i(68515),d=a.i(72131),e=a.i(71931),f=a.i(97895),g=a.i(40695),h=a.i(87682);let i=({students:a,classes:c,scores:i,settings:j})=>{let[k,l]=(0,d.useState)(c[0]?.id||""),m=c.find(a=>a.id===k),n=a.filter(a=>a.class_id===k),o=f.getSubjectsForClass(m),p=n.map(a=>{let b=i.find(b=>b.student_id===a.id&&b.session===j.current_session&&b.term===j.current_term),c={},d=0;return o.forEach(a=>{let e=b?.rows.find(b=>b.subject===a),f=e?e.total:0;c[a]=f,d+=f}),{...a,scores:c,total:d,average:o.length>0?d/o.length:0}}).sort((a,b)=>b.average-a.average);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center no-print",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Master Broadsheet"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Class-wide results analysis"})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)(h.Select,{value:k,onChange:a=>l(a.target.value),children:c.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))}),(0,b.jsxs)(g.Button,{onClick:()=>window.print(),children:[(0,b.jsx)(e.Printer,{className:"h-4 w-4 mr-2"})," Print Sheet"]})]})]}),(0,b.jsxs)("div",{className:"overflow-x-auto bg-white border rounded-lg shadow-sm print:shadow-none print:border-none",children:[(0,b.jsxs)("div",{className:"p-4 border-b bg-gray-50 text-center print:block hidden",children:[(0,b.jsx)("h2",{className:"text-xl font-bold uppercase",children:j.school_name}),(0,b.jsxs)("p",{children:["Broadsheet Report • ",m?.name," • ",j.current_session," ",j.current_term]})]}),(0,b.jsxs)("table",{className:"w-full text-xs text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-gray-100 text-gray-700",children:[(0,b.jsx)("th",{className:"px-2 py-3 border sticky left-0 bg-gray-100 w-48",children:"Student Name"}),o.map(a=>(0,b.jsx)("th",{className:"px-2 py-3 border text-center w-16 rotate-45 h-32 align-bottom pb-2",children:a.substring(0,15)},a)),(0,b.jsx)("th",{className:"px-2 py-3 border text-center font-bold bg-gray-200",children:"Total"}),(0,b.jsx)("th",{className:"px-2 py-3 border text-center font-bold bg-gray-200",children:"Avg"}),(0,b.jsx)("th",{className:"px-2 py-3 border text-center font-bold bg-gray-200",children:"Pos"})]})}),(0,b.jsx)("tbody",{children:p.map((a,c)=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-2 py-2 border font-medium sticky left-0 bg-white",children:a.names}),o.map(c=>(0,b.jsx)("td",{className:`px-2 py-2 border text-center ${a.scores[c]<40?"text-red-600 font-bold":""}`,children:a.scores[c]||"-"},c)),(0,b.jsx)("td",{className:"px-2 py-2 border text-center font-bold bg-gray-50",children:a.total}),(0,b.jsx)("td",{className:"px-2 py-2 border text-center font-bold bg-gray-50",children:a.average.toFixed(1)}),(0,b.jsx)("td",{className:"px-2 py-2 border text-center font-bold bg-gray-50",children:f.ordinalSuffix(c+1)})]},a.id))})]})]})]})};function j(){let{students:a,classes:d,scores:e,settings:f}=(0,c.useSchoolStore)();return(0,b.jsx)(i,{students:a,classes:d,scores:e,settings:f})}a.s(["default",()=>j],41887)}];

//# sourceMappingURL=_d4fab1ef._.js.map