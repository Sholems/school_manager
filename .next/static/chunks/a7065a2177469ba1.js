(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,62870,e=>{"use strict";var s=e.i(43476);e.s(["Select",0,({label:e,className:t,children:a,...r})=>(0,s.jsxs)("div",{className:"flex flex-col gap-1.5",children:[e&&(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:e}),(0,s.jsx)("select",{className:`flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500 disabled:cursor-not-allowed disabled:opacity-50 ${t||""}`,...r,children:a})]})])},67881,e=>{"use strict";var s=e.i(43476);e.s(["Button",0,({className:e,variant:t="primary",size:a="md",...r})=>(0,s.jsx)("button",{className:`inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ${{primary:"bg-brand-600 text-white hover:bg-brand-700 focus:ring-brand-500 shadow-sm",secondary:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-brand-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 focus:ring-gray-500"}[t]} ${{sm:"h-8 px-3 text-sm",md:"h-10 px-4 py-2"}[a]} ${e||""}`,...r})])},70065,e=>{"use strict";var s=e.i(43476);e.s(["Card",0,({children:e,title:t,className:a,action:r})=>(0,s.jsxs)("div",{className:`rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm transition-all hover:shadow-md ${a||""}`,children:[(t||r)&&(0,s.jsx)("div",{className:"flex flex-col space-y-1.5 p-6 pb-2",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[t&&(0,s.jsx)("h3",{className:"font-semibold leading-none tracking-tight",children:t}),r&&(0,s.jsx)("div",{children:r})]})}),(0,s.jsx)("div",{className:"p-6 pt-2",children:e})]})])},84614,e=>{"use strict";let s=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>s],84614)},3281,e=>{"use strict";let s=(0,e.i(75254).default)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);e.s(["Printer",()=>s],3281)},23750,e=>{"use strict";var s=e.i(43476);e.s(["Input",0,({label:e,className:t,...a})=>(0,s.jsxs)("div",{className:"flex flex-col gap-1.5",children:[e&&(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:e}),(0,s.jsx)("input",{className:`flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-brand-500 disabled:cursor-not-allowed disabled:opacity-50 ${t||""}`,...a})]})])},27612,e=>{"use strict";let s=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>s],27612)},7233,e=>{"use strict";let s=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],7233)},2957,e=>{"use strict";var s=e.i(43476),t=e.i(37727);e.s(["Modal",0,({isOpen:e,onClose:a,title:r,children:l,size:n="md"})=>e?(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 animate-in fade-in duration-200 overflow-y-auto backdrop-blur-sm",children:(0,s.jsxs)("div",{className:`relative w-full ${{sm:"max-w-md",md:"max-w-lg sm:max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl"}[n]} rounded-xl bg-white shadow-2xl my-8 flex flex-col max-h-[90vh]`,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between border-b p-4 bg-gray-50 rounded-t-xl shrink-0",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:r}),(0,s.jsx)("button",{onClick:a,className:"rounded-full p-1 hover:bg-gray-200 transition-colors",children:(0,s.jsx)(t.X,{className:"h-5 w-5 text-gray-500"})})]}),(0,s.jsx)("div",{className:"p-6 overflow-y-auto",children:l})]})}):null])},19316,e=>{"use strict";var s=e.i(43476),t=e.i(4421),a=e.i(71645),r=e.i(79050),l=e.i(7233),n=e.i(3281),d=e.i(27612),i=e.i(84614),c=e.i(70065),o=e.i(67881),x=e.i(62870),m=e.i(47163);let h=({students:e,classes:t,fees:a,payments:r,settings:h,selectedClass:u,setSelectedClass:p,selectedStudent:j,setSelectedStudent:y,onRecordPayment:g,onPrintReceipt:b,onDeletePayment:N})=>{let f=e.filter(e=>e.class_id===u),v=e.find(e=>e.id===j),w=j?r.filter(e=>e.student_id===j):[],C=v?a.filter(e=>e.session===h.current_session&&e.term===h.current_term&&(null===e.class_id||e.class_id===v.class_id)):[],{totalBill:S,totalPaid:_,balance:k}=v?m.getStudentBalance(v,a,r,h.current_session,h.current_term):{totalBill:0,totalPaid:0,balance:0};return(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"md:col-span-1 space-y-4",children:(0,s.jsxs)(c.Card,{className:"h-full",children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)(x.Select,{label:"Select Class",value:u,onChange:e=>p(e.target.value),children:t.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))})}),(0,s.jsx)("div",{className:"space-y-1 h-[600px] overflow-y-auto",children:f.map(e=>{let t=m.getStudentBalance(e,a,r,h.current_session,h.current_term).balance;return(0,s.jsxs)("div",{onClick:()=>y(e.id),className:`p-3 rounded-md cursor-pointer flex justify-between items-center text-sm ${j===e.id?"bg-brand-50 border-brand-200 border":"hover:bg-gray-50"}`,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.names}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:e.student_no})]}),(0,s.jsx)("div",{className:`font-mono ${t>0?"text-red-600":"text-green-600"}`,children:t>0?`-${m.formatCurrency(t)}`:"Paid"})]},e.id)})})]})}),(0,s.jsx)("div",{className:"md:col-span-2",children:j&&v?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)(c.Card,{className:"bg-blue-50 border-blue-100 p-4",children:[(0,s.jsx)("div",{className:"text-sm text-blue-600",children:"Total Bill"}),(0,s.jsx)("div",{className:"text-xl font-bold text-blue-900",children:m.formatCurrency(S)})]}),(0,s.jsxs)(c.Card,{className:"bg-green-50 border-green-100 p-4",children:[(0,s.jsx)("div",{className:"text-sm text-green-600",children:"Total Paid"}),(0,s.jsx)("div",{className:"text-xl font-bold text-green-900",children:m.formatCurrency(_)})]}),(0,s.jsxs)(c.Card,{className:"bg-red-50 border-red-100 p-4",children:[(0,s.jsx)("div",{className:"text-sm text-red-600",children:"Outstanding"}),(0,s.jsx)("div",{className:"text-xl font-bold text-red-900",children:m.formatCurrency(k)})]})]}),(0,s.jsx)(c.Card,{title:"Bill Breakdown",children:(0,s.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,s.jsx)("thead",{className:"bg-gray-50 text-gray-700",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-2",children:"Fee Head"}),(0,s.jsx)("th",{className:"px-4 py-2 text-right",children:"Amount"})]})}),(0,s.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[C.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-4 py-2",children:e.name}),(0,s.jsx)("td",{className:"px-4 py-2 text-right font-mono",children:m.formatCurrency(e.amount)})]},e.id)),(0,s.jsxs)("tr",{className:"bg-gray-50 font-bold",children:[(0,s.jsx)("td",{className:"px-4 py-2",children:"Total Billed"}),(0,s.jsx)("td",{className:"px-4 py-2 text-right",children:m.formatCurrency(S)})]})]})]})}),(0,s.jsx)(c.Card,{title:"Payment History",action:(0,s.jsxs)(o.Button,{size:"sm",onClick:g,children:[(0,s.jsx)(l.Plus,{className:"h-4 w-4 mr-2"})," Record Payment"]}),children:(0,s.jsxs)("div",{className:"space-y-3 mt-2",children:[0===w.length&&(0,s.jsx)("div",{className:"text-center py-4 text-gray-500",children:"No payments recorded."}),w.map(e=>(0,s.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded border border-gray-100",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:m.formatCurrency(e.amount)}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:[e.date," â€¢ ",e.method]}),e.remark&&(0,s.jsxs)("div",{className:"text-xs text-gray-500 italic",children:['"',e.remark,'"']})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>b(e),title:"Print Receipt",className:"p-1 text-gray-400 hover:text-blue-600",children:(0,s.jsx)(n.Printer,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:()=>N(e.id),title:"Delete",className:"p-1 text-gray-400 hover:text-red-600",children:(0,s.jsx)(d.Trash2,{className:"h-4 w-4"})})]})]},e.id))]})})]}):(0,s.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 border-2 border-dashed border-gray-200 rounded-lg p-12",children:[(0,s.jsx)(i.User,{className:"h-12 w-12 mb-4 opacity-50"}),(0,s.jsx)("p",{children:"Select a student to view fees and payments"})]})})]})},u=({expenses:e,onAddExpense:t})=>(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsxs)(o.Button,{onClick:t,children:[(0,s.jsx)(l.Plus,{className:"h-4 w-4 mr-2"})," Record Expense"]})}),(0,s.jsx)(c.Card,{children:(0,s.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,s.jsx)("thead",{className:"bg-gray-50 text-gray-700",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3",children:"Date"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Title"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Category"}),(0,s.jsx)("th",{className:"px-4 py-3 text-right",children:"Amount"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-100",children:e.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-4 py-3",children:e.date}),(0,s.jsx)("td",{className:"px-4 py-3",children:e.title}),(0,s.jsx)("td",{className:"px-4 py-3 capitalize",children:(0,s.jsx)("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:e.category})}),(0,s.jsxs)("td",{className:"px-4 py-3 text-right font-mono text-red-600",children:["-",m.formatCurrency(e.amount)]})]},e.id))})]})})]}),p=({fees:e,classes:t,settings:a,onAddFeeHead:r,onDeleteFee:n})=>(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsxs)(o.Button,{onClick:r,children:[(0,s.jsx)(l.Plus,{className:"h-4 w-4 mr-2"})," Add Fee Head"]})}),(0,s.jsx)(c.Card,{title:"Current Session Fee Structure",children:(0,s.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,s.jsx)("thead",{className:"bg-gray-50 text-gray-700",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3",children:"Fee Name"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Class Scope"}),(0,s.jsx)("th",{className:"px-4 py-3 text-right",children:"Amount"}),(0,s.jsx)("th",{className:"px-4 py-3"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-100",children:e.filter(e=>e.session===a.current_session&&e.term===a.current_term).map(e=>{let a=e.class_id?t.find(s=>s.id===e.class_id)?.name:"All Classes";return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-4 py-3 font-medium",children:e.name}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsx)("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:a})}),(0,s.jsx)("td",{className:"px-4 py-3 text-right font-mono",children:m.formatCurrency(e.amount)}),(0,s.jsx)("td",{className:"px-4 py-3 text-right",children:(0,s.jsx)("button",{onClick:()=>n(e.id),className:"text-gray-400 hover:text-red-600",children:(0,s.jsx)(d.Trash2,{className:"h-4 w-4"})})})]},e.id)})})]})})]});var j=e.i(2957),y=e.i(23750);let g=({payment:e,student:t,cls:a,settings:r,balance:l})=>(0,s.jsxs)("div",{className:"bg-white p-8 max-w-2xl mx-auto border border-gray-200 text-sm",id:"receipt-print",children:[(0,s.jsxs)("div",{className:"text-center mb-8 border-b pb-4",children:[r.logo_media&&(0,s.jsx)("img",{src:r.logo_media,alt:"Logo",className:"h-16 mx-auto mb-2"}),(0,s.jsx)("h1",{className:"text-2xl font-bold uppercase",children:r.school_name}),(0,s.jsx)("p",{children:r.school_address}),(0,s.jsxs)("p",{children:[r.school_email," | ",r.school_phone]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-bold",children:"PAYMENT RECEIPT"}),(0,s.jsxs)("p",{children:["Receipt No: #",e.id.substring(0,8).toUpperCase()]}),(0,s.jsxs)("p",{children:["Date: ",e.date]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{children:["Session: ",e.session]}),(0,s.jsxs)("p",{children:["Term: ",e.term]})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Received From:"})," ",t.names," (",t.student_no,")"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Class:"})," ",a?.name||"N/A"]})]}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-100",children:[(0,s.jsx)("th",{className:"border border-gray-300 p-2 text-left",children:"Description"}),(0,s.jsx)("th",{className:"border border-gray-300 p-2 text-right",children:"Amount"})]})}),(0,s.jsx)("tbody",{children:(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{className:"border border-gray-300 p-2",children:["School Fees Payment ",e.method&&` via ${e.method}`," ",e.remark&&` (${e.remark})`]}),(0,s.jsx)("td",{className:"border border-gray-300 p-2 text-right",children:m.formatCurrency(e.amount)})]})})]})}),(0,s.jsx)("div",{className:"flex justify-end mb-12",children:(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:"text-lg font-bold",children:["Total Paid: ",m.formatCurrency(e.amount)]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Balance Remaining: ",m.formatCurrency(l)]})]})}),(0,s.jsxs)("div",{className:"flex justify-between mt-12 pt-4 border-t",children:[(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("p",{className:"border-t border-black px-8 mt-8 pt-2",children:"Bursar's Signature"})}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("p",{className:"italic text-xs",children:"Thank you for your business."})})]})]}),b=({settings:e,classes:t,students:r,fees:l,payments:d,showPayModal:i,setShowPayModal:c,showExpenseModal:h,setShowExpenseModal:u,showFeeModal:p,setShowFeeModal:b,receiptPayment:N,setReceiptPayment:f,selectedStudent:v,onAddPayment:w,onAddExpense:C,onAddFee:S,addToast:_})=>{let[k,P]=(0,a.useState)(""),[A,M]=(0,a.useState)("cash"),[B,T]=(0,a.useState)(""),[F,D]=(0,a.useState)(""),[R,$]=(0,a.useState)(""),[E,I]=(0,a.useState)("supplies"),[O,H]=(0,a.useState)(m.getTodayString()),[U,q]=(0,a.useState)(""),[z,V]=(0,a.useState)(""),[K,G]=(0,a.useState)(""),L=r.find(e=>e.id===v),{balance:X}=L?m.getStudentBalance(L,l,d,e.current_session,e.current_term):{balance:0};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.Modal,{isOpen:i,onClose:()=>c(!1),title:"Record Payment",children:(0,s.jsxs)("form",{onSubmit:s=>{s.preventDefault(),v&&(w({id:m.generateId(),student_id:v,amount:Number(k),method:A,remark:B,date:m.getTodayString(),session:e.current_session,term:e.current_term,created_at:Date.now(),updated_at:Date.now()}),_("Payment recorded successfully","success"),c(!1),P(""),T(""))},className:"space-y-4",children:[(0,s.jsx)(y.Input,{label:"Amount (NGN)",type:"number",required:!0,value:k,onChange:e=>P(e.target.value)}),(0,s.jsxs)(x.Select,{label:"Payment Method",value:A,onChange:e=>M(e.target.value),children:[(0,s.jsx)("option",{value:"cash",children:"Cash"}),(0,s.jsx)("option",{value:"transfer",children:"Bank Transfer"}),(0,s.jsx)("option",{value:"pos",children:"POS"})]}),(0,s.jsx)(y.Input,{label:"Remark/Note",value:B,onChange:e=>T(e.target.value)}),(0,s.jsx)(o.Button,{type:"submit",className:"w-full",children:"Save Payment"})]})}),(0,s.jsx)(j.Modal,{isOpen:!!N,onClose:()=>f(null),title:"Print Receipt",children:N&&L&&(0,s.jsxs)("div",{className:"overflow-y-auto max-h-[80vh]",children:[(0,s.jsx)(g,{payment:N,student:L,cls:t.find(e=>e.id===L.class_id),settings:e,balance:X}),(0,s.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[(0,s.jsx)(o.Button,{variant:"secondary",onClick:()=>f(null),children:"Close"}),(0,s.jsxs)(o.Button,{onClick:()=>window.print(),children:[(0,s.jsx)(n.Printer,{className:"h-4 w-4 mr-2"})," Print"]})]})]})}),(0,s.jsx)(j.Modal,{isOpen:h,onClose:()=>u(!1),title:"Record Expense",children:(0,s.jsxs)("form",{onSubmit:s=>{s.preventDefault(),C({id:m.generateId(),title:F,amount:Number(R),category:E,date:O,session:e.current_session,term:e.current_term,created_at:Date.now(),updated_at:Date.now()}),_("Expense recorded","success"),u(!1),D(""),$("")},className:"space-y-4",children:[(0,s.jsx)(y.Input,{label:"Title",required:!0,value:F,onChange:e=>D(e.target.value)}),(0,s.jsx)(y.Input,{label:"Amount",type:"number",required:!0,value:R,onChange:e=>$(e.target.value)}),(0,s.jsxs)(x.Select,{label:"Category",value:E,onChange:e=>I(e.target.value),children:[(0,s.jsx)("option",{value:"supplies",children:"Supplies"}),(0,s.jsx)("option",{value:"maintenance",children:"Maintenance"}),(0,s.jsx)("option",{value:"salary",children:"Salary"}),(0,s.jsx)("option",{value:"utilities",children:"Utilities"}),(0,s.jsx)("option",{value:"other",children:"Other"})]}),(0,s.jsx)(y.Input,{label:"Date",type:"date",value:O,onChange:e=>H(e.target.value)}),(0,s.jsx)(o.Button,{type:"submit",className:"w-full",children:"Save Expense"})]})}),(0,s.jsx)(j.Modal,{isOpen:p,onClose:()=>b(!1),title:"Add Fee Structure",children:(0,s.jsxs)("form",{onSubmit:s=>{s.preventDefault(),S({id:m.generateId(),name:U,amount:Number(z),class_id:K||null,session:e.current_session,term:e.current_term,created_at:Date.now(),updated_at:Date.now()}),_("Fee structure added","success"),b(!1),q(""),V(""),G("")},className:"space-y-4",children:[(0,s.jsx)(y.Input,{label:"Fee Name",required:!0,value:U,onChange:e=>q(e.target.value),placeholder:"e.g. Tuition Fee"}),(0,s.jsx)(y.Input,{label:"Amount",type:"number",required:!0,value:z,onChange:e=>V(e.target.value)}),(0,s.jsxs)(x.Select,{label:"Applicable Class",value:K,onChange:e=>G(e.target.value),children:[(0,s.jsx)("option",{value:"",children:"All Classes"}),t.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,s.jsx)(o.Button,{type:"submit",className:"w-full",children:"Create Fee"})]})})]})},N=({students:e,classes:t,fees:l,payments:n,expenses:d,settings:i,onAddPayment:c,onAddFee:o,onAddExpense:x,onDeletePayment:m,onDeleteFee:j})=>{let[y,g]=(0,a.useState)("fees"),[N,f]=(0,a.useState)(t[0]?.id||""),[v,w]=(0,a.useState)(null),[C,S]=(0,a.useState)(!1),[_,k]=(0,a.useState)(!1),[P,A]=(0,a.useState)(!1),[M,B]=(0,a.useState)(null),{addToast:T}=(0,r.useToast)();return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Bursary & Finance"}),(0,s.jsx)("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:["fees","expenses","structure"].map(e=>(0,s.jsx)("button",{onClick:()=>g(e),className:`px-4 py-2 text-sm font-medium rounded-md capitalize ${y===e?"bg-white shadow-sm text-brand-700":"text-gray-600 hover:text-gray-900"}`,children:e},e))})]}),"fees"===y&&(0,s.jsx)(h,{students:e,classes:t,fees:l,payments:n,settings:i,selectedClass:N,setSelectedClass:f,selectedStudent:v,setSelectedStudent:w,onRecordPayment:()=>S(!0),onPrintReceipt:e=>B(e),onDeletePayment:m}),"expenses"===y&&(0,s.jsx)(u,{expenses:d,onAddExpense:()=>k(!0)}),"structure"===y&&(0,s.jsx)(p,{fees:l,classes:t,settings:i,onAddFeeHead:()=>A(!0),onDeleteFee:j}),(0,s.jsx)(b,{settings:i,classes:t,students:e,fees:l,payments:n,showPayModal:C,setShowPayModal:S,showExpenseModal:_,setShowExpenseModal:k,showFeeModal:P,setShowFeeModal:A,receiptPayment:M,setReceiptPayment:B,selectedStudent:v,onAddPayment:c,onAddExpense:x,onAddFee:o,addToast:T})]})};function f(){let{students:e,classes:a,fees:r,payments:l,expenses:n,settings:d,addPayment:i,addFee:c,addExpense:o,deletePayment:x,deleteFee:m,deleteExpense:h}=(0,t.useSchoolStore)();return(0,s.jsx)(N,{students:e,classes:a,fees:r,payments:l,expenses:n,settings:d,onAddPayment:i,onAddFee:c,onAddExpense:o,onDeletePayment:x,onDeleteFee:m})}e.s(["default",()=>f],19316)}]);