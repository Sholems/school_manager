(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67881,e=>{"use strict";var t=e.i(43476);e.s(["Button",0,({className:e,variant:r="primary",size:s="md",...a})=>(0,t.jsx)("button",{className:`inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ${{primary:"bg-brand-600 text-white hover:bg-brand-700 focus:ring-brand-500 shadow-sm",secondary:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-brand-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 focus:ring-gray-500"}[r]} ${{sm:"h-8 px-3 text-sm",md:"h-10 px-4 py-2"}[s]} ${e||""}`,...a})])},62870,e=>{"use strict";var t=e.i(43476);e.s(["Select",0,({label:e,className:r,children:s,...a})=>(0,t.jsxs)("div",{className:"flex flex-col gap-1.5",children:[e&&(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:e}),(0,t.jsx)("select",{className:`flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500 disabled:cursor-not-allowed disabled:opacity-50 ${r||""}`,...a,children:s})]})])},3281,e=>{"use strict";let t=(0,e.i(75254).default)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);e.s(["Printer",()=>t],3281)},88529,e=>{"use strict";var t=e.i(43476),r=e.i(4421),s=e.i(71645),a=e.i(3281),n=e.i(47163),d=e.i(67881),l=e.i(62870);let i=({students:e,classes:r,scores:i,settings:o})=>{let[c,x]=(0,s.useState)(r[0]?.id||""),h=r.find(e=>e.id===c),b=e.filter(e=>e.class_id===c),g=n.getSubjectsForClass(h),m=b.map(e=>{let t=i.find(t=>t.student_id===e.id&&t.session===o.current_session&&t.term===o.current_term),r={},s=0;return g.forEach(e=>{let a=t?.rows.find(t=>t.subject===e),n=a?a.total:0;r[e]=n,s+=n}),{...e,scores:r,total:s,average:g.length>0?s/g.length:0}}).sort((e,t)=>t.average-e.average);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center no-print",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Master Broadsheet"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Class-wide results analysis"})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(l.Select,{value:c,onChange:e=>x(e.target.value),children:r.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))}),(0,t.jsxs)(d.Button,{onClick:()=>window.print(),children:[(0,t.jsx)(a.Printer,{className:"h-4 w-4 mr-2"})," Print Sheet"]})]})]}),(0,t.jsxs)("div",{className:"overflow-x-auto bg-white border rounded-lg shadow-sm print:shadow-none print:border-none",children:[(0,t.jsxs)("div",{className:"p-4 border-b bg-gray-50 text-center print:block hidden",children:[(0,t.jsx)("h2",{className:"text-xl font-bold uppercase",children:o.school_name}),(0,t.jsxs)("p",{children:["Broadsheet Report • ",h?.name," • ",o.current_session," ",o.current_term]})]}),(0,t.jsxs)("table",{className:"w-full text-xs text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-100 text-gray-700",children:[(0,t.jsx)("th",{className:"px-2 py-3 border sticky left-0 bg-gray-100 w-48",children:"Student Name"}),g.map(e=>(0,t.jsx)("th",{className:"px-2 py-3 border text-center w-16 rotate-45 h-32 align-bottom pb-2",children:e.substring(0,15)},e)),(0,t.jsx)("th",{className:"px-2 py-3 border text-center font-bold bg-gray-200",children:"Total"}),(0,t.jsx)("th",{className:"px-2 py-3 border text-center font-bold bg-gray-200",children:"Avg"}),(0,t.jsx)("th",{className:"px-2 py-3 border text-center font-bold bg-gray-200",children:"Pos"})]})}),(0,t.jsx)("tbody",{children:m.map((e,r)=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-2 py-2 border font-medium sticky left-0 bg-white",children:e.names}),g.map(r=>(0,t.jsx)("td",{className:`px-2 py-2 border text-center ${e.scores[r]<40?"text-red-600 font-bold":""}`,children:e.scores[r]||"-"},r)),(0,t.jsx)("td",{className:"px-2 py-2 border text-center font-bold bg-gray-50",children:e.total}),(0,t.jsx)("td",{className:"px-2 py-2 border text-center font-bold bg-gray-50",children:e.average.toFixed(1)}),(0,t.jsx)("td",{className:"px-2 py-2 border text-center font-bold bg-gray-50",children:n.ordinalSuffix(r+1)})]},e.id))})]})]})]})};function o(){let{students:e,classes:s,scores:a,settings:n}=(0,r.useSchoolStore)();return(0,t.jsx)(i,{students:e,classes:s,scores:a,settings:n})}e.s(["default",()=>o],88529)}]);