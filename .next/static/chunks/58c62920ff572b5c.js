(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67881,e=>{"use strict";var a=e.i(43476);e.s(["Button",0,({className:e,variant:s="primary",size:t="md",...r})=>(0,a.jsx)("button",{className:`inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ${{primary:"bg-brand-600 text-white hover:bg-brand-700 focus:ring-brand-500 shadow-sm",secondary:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-brand-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 focus:ring-gray-500"}[s]} ${{sm:"h-8 px-3 text-sm",md:"h-10 px-4 py-2"}[t]} ${e||""}`,...r})])},70065,e=>{"use strict";var a=e.i(43476);e.s(["Card",0,({children:e,title:s,className:t,action:r})=>(0,a.jsxs)("div",{className:`rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm transition-all hover:shadow-md ${t||""}`,children:[(s||r)&&(0,a.jsx)("div",{className:"flex flex-col space-y-1.5 p-6 pb-2",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[s&&(0,a.jsx)("h3",{className:"font-semibold leading-none tracking-tight",children:s}),r&&(0,a.jsx)("div",{children:r})]})}),(0,a.jsx)("div",{className:"p-6 pt-2",children:e})]})])},40160,e=>{"use strict";let a=(0,e.i(75254).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>a],40160)},88142,e=>{"use strict";var a=e.i(43476),s=e.i(71645),t=e.i(40160);let r=(0,e.i(75254).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var o=e.i(47163),l=e.i(67881),n=e.i(70065),d=e.i(79050);let i=()=>{let{addToast:e}=(0,d.useToast)(),i=(0,s.useRef)(null);return(0,a.jsxs)("div",{className:"space-y-6 max-w-2xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Data Management"}),(0,a.jsx)(n.Card,{title:"Backup & Restore",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 border rounded-lg bg-blue-50 border-blue-100",children:[(0,a.jsx)("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-full",children:(0,a.jsx)(t.Download,{className:"h-6 w-6"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-bold text-gray-900",children:"Export Data"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Download a complete JSON backup of all school records."})]}),(0,a.jsx)(l.Button,{onClick:()=>{let a=new Blob([JSON.stringify({settings:o.loadFromStorage(o.STORAGE_KEYS.SETTINGS,o.INITIAL_SETTINGS),students:o.loadFromStorage(o.STORAGE_KEYS.STUDENTS,o.SEED_STUDENTS),teachers:o.loadFromStorage(o.STORAGE_KEYS.TEACHERS,o.SEED_TEACHERS),staff:o.loadFromStorage(o.STORAGE_KEYS.STAFF,o.SEED_STAFF),classes:o.loadFromStorage(o.STORAGE_KEYS.CLASSES,o.SEED_CLASSES),scores:o.loadFromStorage(o.STORAGE_KEYS.SCORES,[]),fees:o.loadFromStorage(o.STORAGE_KEYS.FEES,[]),payments:o.loadFromStorage(o.STORAGE_KEYS.PAYMENTS,[]),expenses:o.loadFromStorage(o.STORAGE_KEYS.EXPENSES,[]),attendance:o.loadFromStorage(o.STORAGE_KEYS.ATTENDANCE,[])},null,2)],{type:"application/json"}),s=URL.createObjectURL(a),t=document.createElement("a");t.href=s,t.download=`school_backup_${o.getTodayString()}.json`,t.click(),e("Backup downloaded successfully","success")},children:"Download Backup"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 border rounded-lg bg-orange-50 border-orange-100",children:[(0,a.jsx)("div",{className:"p-3 bg-orange-100 text-orange-600 rounded-full",children:(0,a.jsx)(r,{className:"h-6 w-6"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-bold text-gray-900",children:"Import Data"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Restore from a previously saved backup file. This will overwrite current data."})]}),(0,a.jsx)("input",{type:"file",ref:i,className:"hidden",accept:".json",onChange:a=>{let s=a.target.files?.[0];if(!s)return;let t=new FileReader;t.onload=a=>{try{let s=JSON.parse(a.target?.result);s.settings&&s.students?(o.saveToStorage(o.STORAGE_KEYS.SETTINGS,s.settings),o.saveToStorage(o.STORAGE_KEYS.STUDENTS,s.students),o.saveToStorage(o.STORAGE_KEYS.TEACHERS,s.teachers),o.saveToStorage(o.STORAGE_KEYS.STAFF,s.staff),o.saveToStorage(o.STORAGE_KEYS.CLASSES,s.classes),o.saveToStorage(o.STORAGE_KEYS.SCORES,s.scores),o.saveToStorage(o.STORAGE_KEYS.FEES,s.fees),o.saveToStorage(o.STORAGE_KEYS.PAYMENTS,s.payments),o.saveToStorage(o.STORAGE_KEYS.EXPENSES,s.expenses),o.saveToStorage(o.STORAGE_KEYS.ATTENDANCE,s.attendance),e("Data imported successfully! Refreshing...","success"),setTimeout(()=>window.location.reload(),1500)):e("Invalid backup file format","error")}catch(a){e("Error parsing file","error")}},t.readAsText(s)}}),(0,a.jsx)(l.Button,{variant:"secondary",onClick:()=>i.current?.click(),children:"Select File"})]})]})}),(0,a.jsx)(n.Card,{title:"System Info",children:(0,a.jsxs)("div",{className:"text-sm text-gray-500 space-y-2",children:[(0,a.jsx)("p",{children:"Storage Engine: LocalStorage (Browser)"}),(0,a.jsxs)("p",{children:["Last Sync: ",new Date().toLocaleString()]}),(0,a.jsx)("p",{className:"text-red-500 text-xs mt-4",children:"* Warning: Clearing browser cache will delete all data if not backed up."})]})})]})};function c(){return(0,a.jsx)(i,{})}e.s(["default",()=>c],88142)}]);